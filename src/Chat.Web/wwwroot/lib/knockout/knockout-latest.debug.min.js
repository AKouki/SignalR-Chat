!function(b){var h,c=this||eval("this"),d=c.document,e=c.navigator,f=c.jQuery,g=c.JSON;f||"undefined"==typeof jQuery||(f=jQuery),h=function(t,i){var u,n,r,o,p,m,s,a,l,v,h,y,x,R=void 0!==t?t:{};function E(e,t){var n,i=(t=t||d).parentWindow||t.defaultView||c,r=R.utils.stringTrim(e).toLowerCase(),o=t.createElement("div"),s=(n=r.match(/^(?:<!--.*?-->\s*?)*?<([a-z]+)[\s>]/))&&p[n[1]]||u,a=s[0],l="ignored<div>"+s[1]+e+s[2]+"</div>";for("function"==typeof i.innerShiv?o.appendChild(i.innerShiv(l)):(m&&t.body.appendChild(o),o.innerHTML=l,m&&o.parentNode.removeChild(o));a--;)o=o.lastChild;return R.utils.makeArray(o.lastChild.childNodes)}function w(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}function C(){if(h)for(var e,t=h,n=0;x<h;)if(e=v[x++]){if(t<x){if(5e3<=++n){x=h,R.utils.deferError(Error("'Too much recursion' after processing "+n+" task groups."));break}t=h}try{e()}catch(e){R.utils.deferError(e)}}}function D(){C(),x=h=v.length=0}R.exportSymbol=function(e,t){for(var n=e.split("."),i=R,r=0;r<n.length-1;r++)i=i[n[r]];i[n[n.length-1]]=t},R.exportProperty=function(e,t,n){e[t]=n},R.version="3.5.1",R.exportSymbol("version",R.version),R.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1},R.utils=function(){var o=Object.prototype.hasOwnProperty;function m(e,t){for(var n in e)o.call(e,n)&&t(n,e[n])}function t(e,t){if(t)for(var n in t)o.call(t,n)&&(e[n]=t[n]);return e}function n(e,t){return e.__proto__=t,e}var i={__proto__:[]}instanceof Array,r={},s={};r[e&&/Firefox\/2/i.test(e.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],r.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"],m(r,function(e,t){if(t.length)for(var n=0,i=t.length;n<i;n++)s[t[n]]=e});var a={propertychange:!0},l=d&&function(){for(var e=3,t=d.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return 4<e?e:b}(),u=6===l,p=7===l;var v,h=/\S+/g;function y(e,t,n,i){var r=e[t].match(h)||[];R.utils.arrayForEach(n.match(h),function(e){R.utils.addOrRemoveItem(r,e,i)}),e[t]=r.join(" ")}return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(e,t,n){for(var i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e)},arrayIndexOf:"function"==typeof Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t)}:function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},arrayFirst:function(e,t,n){for(var i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e))return e[i];return b},arrayRemoveItem:function(e,t){var n=R.utils.arrayIndexOf(e,t);0<n?e.splice(n,1):0===n&&e.shift()},arrayGetDistinctValues:function(e){var t=[];return e&&R.utils.arrayForEach(e,function(e){R.utils.arrayIndexOf(t,e)<0&&t.push(e)}),t},arrayMap:function(e,t,n){var i=[];if(e)for(var r=0,o=e.length;r<o;r++)i.push(t.call(n,e[r],r));return i},arrayFilter:function(e,t,n){var i=[];if(e)for(var r=0,o=e.length;r<o;r++)t.call(n,e[r],r)&&i.push(e[r]);return i},arrayPushAll:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,i=t.length;n<i;n++)e.push(t[n]);return e},addOrRemoveItem:function(e,t,n){var i=R.utils.arrayIndexOf(R.utils.peekObservable(e),t);i<0?n&&e.push(t):n||e.splice(i,1)},canSetPrototype:i,extend:t,setPrototypeOf:n,setPrototypeOfOrExtend:i?n:t,objectForEach:m,objectMap:function(e,t,n){if(!e)return e;var i={};for(var r in e)o.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i},emptyDomNode:function(e){for(;e.firstChild;)R.removeNode(e.firstChild)},moveCleanedNodesToContainerElement:function(e){for(var t=R.utils.makeArray(e),n=(t[0]&&t[0].ownerDocument||d).createElement("div"),i=0,r=t.length;i<r;i++)n.appendChild(R.cleanNode(t[i]));return n},cloneNodes:function(e,t){for(var n=0,i=e.length,r=[];n<i;n++){var o=e[n].cloneNode(!0);r.push(t?R.cleanNode(o):o)}return r},setDomNodeChildren:function(e,t){if(R.utils.emptyDomNode(e),t)for(var n=0,i=t.length;n<i;n++)e.appendChild(t[n])},replaceDomNodes:function(e,t){var n=e.nodeType?[e]:e;if(0<n.length){for(var i=n[0],r=i.parentNode,o=0,s=t.length;o<s;o++)r.insertBefore(t[o],i);for(o=0,s=n.length;o<s;o++)R.removeNode(n[o])}},fixUpContinuousNodeArray:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);for(;1<e.length&&e[e.length-1].parentNode!==t;)e.length--;if(1<e.length){var n=e[0],i=e[e.length-1];for(e.length=0;n!==i;)e.push(n),n=n.nextSibling;e.push(i)}}return e},setOptionNodeSelectionState:function(e,t){l<7?e.setAttribute("selected",t):e.selected=t},stringTrim:function(e){return null===e||e===b?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringStartsWith:function(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t},domNodeIsContainedBy:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(1!==e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},domNodeIsAttachedToDocument:function(e){return R.utils.domNodeIsContainedBy(e,e.ownerDocument.documentElement)},anyDomNodeIsAttachedToDocument:function(e){return!!R.utils.arrayFirst(e,R.utils.domNodeIsAttachedToDocument)},tagNameLower:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},catchFunctionErrors:function(e){return R.onError?function(){try{return e.apply(this,arguments)}catch(e){throw R.onError&&R.onError(e),e}}:e},setTimeout:function(e,t){return setTimeout(R.utils.catchFunctionErrors(e),t)},deferError:function(e){setTimeout(function(){throw R.onError&&R.onError(e),e},0)},registerEventHandler:function(t,e,n){var i=R.utils.catchFunctionErrors(n),r=a[e];if(R.options.useOnlyNativeEvents||r||!f)if(r||"function"!=typeof t.addEventListener){if(void 0===t.attachEvent)throw new Error("Browser doesn't support addEventListener or attachEvent");function o(e){i.call(t,e)}var s="on"+e;t.attachEvent(s,o),R.utils.domNodeDisposal.addDisposeCallback(t,function(){t.detachEvent(s,o)})}else t.addEventListener(e,i,!1);else v=v||("function"==typeof f(t).on?"on":"bind"),f(t)[v](e,i)},triggerEvent:function(e,t){if(!e||!e.nodeType)throw new Error("element must be a DOM node when calling triggerEvent");var n=function(e,t){if("input"!==R.utils.tagNameLower(e)||!e.type)return!1;if("click"!=t.toLowerCase())return!1;var n=e.type;return"checkbox"==n||"radio"==n}(e,t);if(R.options.useOnlyNativeEvents||!f||n)if("function"==typeof d.createEvent){if("function"!=typeof e.dispatchEvent)throw new Error("The supplied element doesn't support dispatchEvent");var i=s[t]||"HTMLEvents",r=d.createEvent(i);r.initEvent(t,!0,!0,c,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(r)}else if(n&&e.click)e.click();else{if(void 0===e.fireEvent)throw new Error("Browser doesn't support triggering events");e.fireEvent("on"+t)}else f(e).trigger(t)},unwrapObservable:function(e){return R.isObservable(e)?e():e},peekObservable:function(e){return R.isObservable(e)?e.peek():e},toggleDomNodeCssClass:function(t,e,n){var i;e&&("object"==typeof t.classList?(i=t.classList[n?"add":"remove"],R.utils.arrayForEach(e.match(h),function(e){i.call(t.classList,e)})):"string"==typeof t.className.baseVal?y(t.className,"baseVal",e,n):y(t,"className",e,n))},setTextContent:function(e,t){var n=R.utils.unwrapObservable(t);null!==n&&n!==b||(n="");var i=R.virtualElements.firstChild(e);!i||3!=i.nodeType||R.virtualElements.nextSibling(i)?R.virtualElements.setDomNodeChildren(e,[e.ownerDocument.createTextNode(n)]):i.data=n,R.utils.forceRefresh(e)},setElementName:function(e,t){if(e.name=t,l<=7)try{var n=e.name.replace(/[&<>'"]/g,function(e){return"&#"+e.charCodeAt(0)+";"});e.mergeAttributes(d.createElement("<input name='"+n+"'/>"),!1)}catch(e){}},forceRefresh:function(e){if(9<=l){var t=1==e.nodeType?e:e.parentNode;t.style&&(t.style.zoom=t.style.zoom)}},ensureSelectElementIsRenderedCorrectly:function(e){if(l){var t=e.style.width;e.style.width=0,e.style.width=t}},range:function(e,t){e=R.utils.unwrapObservable(e),t=R.utils.unwrapObservable(t);for(var n=[],i=e;i<=t;i++)n.push(i);return n},makeArray:function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n]);return t},createSymbolOrString:function(e){return e},isIe6:u,isIe7:p,ieVersion:l,getFormFields:function(e,t){for(var n=R.utils.makeArray(e.getElementsByTagName("input")).concat(R.utils.makeArray(e.getElementsByTagName("textarea"))),i="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},r=[],o=n.length-1;0<=o;o--)i(n[o])&&r.push(n[o]);return r},parseJson:function(e){return"string"==typeof e&&(e=R.utils.stringTrim(e))?g&&g.parse?g.parse(e):new Function("return "+e)():null},stringifyJson:function(e,t,n){if(!g||!g.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return g.stringify(R.utils.unwrapObservable(e),t,n)},postJson:function(e,t,n){var i=(n=n||{}).params||{},r=n.includeFields||this.fieldsIncludedWithJsonPost,o=e;if("object"==typeof e&&"form"===R.utils.tagNameLower(e)){var s=e;o=s.action;for(var a=r.length-1;0<=a;a--)for(var l=R.utils.getFormFields(s,r[a]),u=l.length-1;0<=u;u--)i[l[u].name]=l[u].value}t=R.utils.unwrapObservable(t);var c=d.createElement("form");for(var p in c.style.display="none",c.action=o,c.method="post",t){var f=d.createElement("input");f.type="hidden",f.name=p,f.value=R.utils.stringifyJson(R.utils.unwrapObservable(t[p])),c.appendChild(f)}m(i,function(e,t){var n=d.createElement("input");n.type="hidden",n.name=e,n.value=t,c.appendChild(n)}),d.body.appendChild(c),n.submitter?n.submitter(c):c.submit(),setTimeout(function(){c.parentNode.removeChild(c)},0)}}}(),R.exportSymbol("utils",R.utils),R.exportSymbol("utils.arrayForEach",R.utils.arrayForEach),R.exportSymbol("utils.arrayFirst",R.utils.arrayFirst),R.exportSymbol("utils.arrayFilter",R.utils.arrayFilter),R.exportSymbol("utils.arrayGetDistinctValues",R.utils.arrayGetDistinctValues),R.exportSymbol("utils.arrayIndexOf",R.utils.arrayIndexOf),R.exportSymbol("utils.arrayMap",R.utils.arrayMap),R.exportSymbol("utils.arrayPushAll",R.utils.arrayPushAll),R.exportSymbol("utils.arrayRemoveItem",R.utils.arrayRemoveItem),R.exportSymbol("utils.cloneNodes",R.utils.cloneNodes),R.exportSymbol("utils.createSymbolOrString",R.utils.createSymbolOrString),R.exportSymbol("utils.extend",R.utils.extend),R.exportSymbol("utils.fieldsIncludedWithJsonPost",R.utils.fieldsIncludedWithJsonPost),R.exportSymbol("utils.getFormFields",R.utils.getFormFields),R.exportSymbol("utils.objectMap",R.utils.objectMap),R.exportSymbol("utils.peekObservable",R.utils.peekObservable),R.exportSymbol("utils.postJson",R.utils.postJson),R.exportSymbol("utils.parseJson",R.utils.parseJson),R.exportSymbol("utils.registerEventHandler",R.utils.registerEventHandler),R.exportSymbol("utils.stringifyJson",R.utils.stringifyJson),R.exportSymbol("utils.range",R.utils.range),R.exportSymbol("utils.toggleDomNodeCssClass",R.utils.toggleDomNodeCssClass),R.exportSymbol("utils.triggerEvent",R.utils.triggerEvent),R.exportSymbol("utils.unwrapObservable",R.utils.unwrapObservable),R.exportSymbol("utils.objectForEach",R.utils.objectForEach),R.exportSymbol("utils.addOrRemoveItem",R.utils.addOrRemoveItem),R.exportSymbol("utils.setTextContent",R.utils.setTextContent),R.exportSymbol("unwrap",R.utils.unwrapObservable),Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(1===arguments.length)return function(){return n.apply(t,arguments)};var i=Array.prototype.slice.call(arguments,1);return function(){var e=i.slice(0);return e.push.apply(e,arguments),n.apply(t,e)}}),R.utils.domData=new function(){var r,i=0,o="__ko__"+(new Date).getTime(),s={};return{get:function(e,t){var n=r(e,!1);return n&&n[t]},set:function(e,t,n){var i=r(e,n!==b);i&&(i[t]=n)},getOrSet:function(e,t,n){var i=r(e,!0);return i[t]||(i[t]=n)},clear:R.utils.ieVersion?(r=function(e,t){var n=e[o];if(!(n&&"null"!==n&&s[n])){if(!t)return b;n=e[o]="ko"+i++,s[n]={}}return s[n]},function(e){var t=e[o];return!!t&&(delete s[t],!(e[o]=null))}):(r=function(e,t){var n=e[o];return!n&&t&&(n=e[o]={}),n},function(e){return!!e[o]&&(delete e[o],!0)}),nextKey:function(){return i+++o}}},R.exportSymbol("utils.domData",R.utils.domData),R.exportSymbol("utils.domData.clear",R.utils.domData.clear),R.utils.domNodeDisposal=new function(){var r=R.utils.domData.nextKey(),t={1:!0,8:!0,9:!0},i={1:!0,9:!0};function o(e,t){var n=R.utils.domData.get(e,r);return n===b&&t&&(n=[],R.utils.domData.set(e,r,n)),n}function s(e){var t=o(e,!1);if(t){t=t.slice(0);for(var n=0;n<t.length;n++)t[n](e)}R.utils.domData.clear(e),R.utils.domNodeDisposal.cleanExternalData(e),i[e.nodeType]&&a(e.childNodes,!0)}function a(e,t){for(var n,i=[],r=0;r<e.length;r++)if((!t||8===e[r].nodeType)&&(s(i[i.length]=n=e[r]),e[r]!==n))for(;r--&&-1==R.utils.arrayIndexOf(i,e[r]););}return{addDisposeCallback:function(e,t){if("function"!=typeof t)throw new Error("Callback must be a function");o(e,!0).push(t)},removeDisposeCallback:function(e,t){var n,i=o(e,!1);i&&(R.utils.arrayRemoveItem(i,t),0==i.length&&(n=e,R.utils.domData.set(n,r,b)))},cleanNode:function(e){return R.dependencyDetection.ignore(function(){t[e.nodeType]&&(s(e),i[e.nodeType]&&a(e.getElementsByTagName("*")))}),e},removeNode:function(e){R.cleanNode(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){f&&"function"==typeof f.cleanData&&f.cleanData([e])}}},R.cleanNode=R.utils.domNodeDisposal.cleanNode,R.removeNode=R.utils.domNodeDisposal.removeNode,R.exportSymbol("cleanNode",R.cleanNode),R.exportSymbol("removeNode",R.removeNode),R.exportSymbol("utils.domNodeDisposal",R.utils.domNodeDisposal),R.exportSymbol("utils.domNodeDisposal.addDisposeCallback",R.utils.domNodeDisposal.addDisposeCallback),R.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",R.utils.domNodeDisposal.removeDisposeCallback),u=[0,"",""],p={thead:n=[1,"<table>","</table>"],tbody:n,tfoot:n,tr:[2,"<table><tbody>","</tbody></table>"],td:r=[3,"<table><tbody><tr>","</tr></tbody></table>"],th:r,option:o=[1,"<select multiple='multiple'>","</select>"],optgroup:o},m=R.utils.ieVersion<=8,R.utils.parseHtmlFragment=function(e,t){return(f?function(e,t){if(f.parseHTML)return f.parseHTML(e,t)||[];var n=f.clean([e],t);if(n&&n[0]){for(var i=n[0];i.parentNode&&11!==i.parentNode.nodeType;)i=i.parentNode;i.parentNode&&i.parentNode.removeChild(i)}return n}:E)(e,t)},R.utils.parseHtmlForTemplateNodes=function(e,t){var n=R.utils.parseHtmlFragment(e,t);return n.length&&n[0].parentElement||R.utils.moveCleanedNodesToContainerElement(n)},R.utils.setHtml=function(e,t){if(R.utils.emptyDomNode(e),null!==(t=R.utils.unwrapObservable(t))&&t!==b)if("string"!=typeof t&&(t=t.toString()),f)f(e).html(t);else for(var n=R.utils.parseHtmlFragment(t,e.ownerDocument),i=0;i<n.length;i++)e.appendChild(n[i])},R.exportSymbol("utils.parseHtmlFragment",R.utils.parseHtmlFragment),R.exportSymbol("utils.setHtml",R.utils.setHtml),R.memoization=(s={},{memoize:function(e){if("function"!=typeof e)throw new Error("You can only pass a function to ko.memoization.memoize()");var t=w()+w();return s[t]=e,"\x3c!--[ko_memo:"+t+"]--\x3e"},unmemoize:function(e,t){var n=s[e];if(n===b)throw new Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return n.apply(null,t||[]),!0}finally{delete s[e]}},unmemoizeDomNodeAndDescendants:function(e,t){var n=[];!function e(t,n){if(t)if(8==t.nodeType){var i=R.memoization.parseMemoText(t.nodeValue);null!=i&&n.push({domNode:t,memoId:i})}else if(1==t.nodeType)for(var r=0,o=t.childNodes,s=o.length;r<s;r++)e(o[r],n)}(e,n);for(var i=0,r=n.length;i<r;i++){var o=n[i].domNode,s=[o];t&&R.utils.arrayPushAll(s,t),R.memoization.unmemoize(n[i].memoId,s),o.nodeValue="",o.parentNode&&o.parentNode.removeChild(o)}},parseMemoText:function(e){var t=e.match(/^\[ko_memo\:(.*?)\]$/);return t?t[1]:null}}),R.exportSymbol("memoization",R.memoization),R.exportSymbol("memoization.memoize",R.memoization.memoize),R.exportSymbol("memoization.unmemoize",R.memoization.unmemoize),R.exportSymbol("memoization.parseMemoText",R.memoization.parseMemoText),R.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",R.memoization.unmemoizeDomNodeAndDescendants),R.tasks=(v=[],y=1,x=h=0,{scheduler:c.MutationObserver?(a=D,l=d.createElement("div"),new MutationObserver(a).observe(l,{attributes:!0}),function(){l.classList.toggle("foo")}):d&&"onreadystatechange"in d.createElement("script")?function(e){var t=d.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,d.documentElement.removeChild(t),t=null,e()},d.documentElement.appendChild(t)}:function(e){setTimeout(e,0)},schedule:function(e){return h||R.tasks.scheduler(D),v[h++]=e,y++},cancel:function(e){var t=e-(y-h);x<=t&&t<h&&(v[t]=null)},resetForTesting:function(){var e=h-x;return x=h=v.length=0,e},runEarly:C}),R.exportSymbol("tasks",R.tasks),R.exportSymbol("tasks.schedule",R.tasks.schedule),R.exportSymbol("tasks.runEarly",R.tasks.runEarly),R.extenders={throttle:function(t,n){t.throttleEvaluation=n;var i=null;return R.dependentObservable({read:t,write:function(e){clearTimeout(i),i=R.utils.setTimeout(function(){t(e)},n)}})},rateLimit:function(e,t){var n,i,r;"number"==typeof t?n=t:(n=t.timeout,i=t.method),e._deferUpdates=!1,r="function"==typeof i?i:"notifyWhenChangesStop"==i?k:T,e.limit(function(e){return r(e,n,t)})},deferred:function(i,e){if(!0!==e)throw new Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");i._deferUpdates||(i._deferUpdates=!0,i.limit(function(e){var t,n=!1;return function(){if(!n){R.tasks.cancel(t),t=R.tasks.schedule(e);try{n=!0,i.notifySubscribers(b,"dirty")}finally{n=!1}}}}))},notify:function(e,t){e.equalityComparer="always"==t?null:N}};var S={undefined:1,boolean:1,number:1,string:1};function N(e,t){return(null===e||typeof e in S)&&e===t}function T(e,t){var n;return function(){n=n||R.utils.setTimeout(function(){n=b,e()},t)}}function k(e,t){var n;return function(){clearTimeout(n),n=R.utils.setTimeout(e,t)}}R.exportSymbol("extenders",R.extenders),R.subscription=function(e,t,n){this._target=e,this._callback=t,this._disposeCallback=n,this._isDisposed=!1,this._node=null,this._domNodeDisposalCallback=null,R.exportProperty(this,"dispose",this.dispose),R.exportProperty(this,"disposeWhenNodeIsRemoved",this.disposeWhenNodeIsRemoved)},R.subscription.prototype.dispose=function(){var e=this;e._isDisposed||(e._domNodeDisposalCallback&&R.utils.domNodeDisposal.removeDisposeCallback(e._node,e._domNodeDisposalCallback),e._isDisposed=!0,e._disposeCallback(),e._target=e._callback=e._disposeCallback=e._node=e._domNodeDisposalCallback=null)},R.subscription.prototype.disposeWhenNodeIsRemoved=function(e){this._node=e,R.utils.domNodeDisposal.addDisposeCallback(e,this._domNodeDisposalCallback=this.dispose.bind(this))},R.subscribable=function(){R.utils.setPrototypeOfOrExtend(this,B),B.init(this)};var O="change";function _(e,t){t&&t!==O?"beforeChange"===t?this._limitBeforeChange(e):this._origNotifySubscribers(e,t):this._limitChange(e)}var I,A,F,B={init:function(e){e._subscriptions={change:[]},e._versionNumber=1},subscribe:function(e,t,n){var i=this;n=n||O;var r=t?e.bind(t):e,o=new R.subscription(i,r,function(){R.utils.arrayRemoveItem(i._subscriptions[n],o),i.afterSubscriptionRemove&&i.afterSubscriptionRemove(n)});return i.beforeSubscriptionAdd&&i.beforeSubscriptionAdd(n),i._subscriptions[n]||(i._subscriptions[n]=[]),i._subscriptions[n].push(o),o},notifySubscribers:function(e,t){if((t=t||O)===O&&this.updateVersion(),this.hasSubscriptionsForEvent(t)){var n=t===O&&this._changeSubscriptions||this._subscriptions[t].slice(0);try{R.dependencyDetection.begin();for(var i,r=0;i=n[r];++r)i._isDisposed||i._callback(e)}finally{R.dependencyDetection.end()}}},getVersion:function(){return this._versionNumber},hasChanged:function(e){return this.getVersion()!==e},updateVersion:function(){++this._versionNumber},limit:function(e){var n,t,i,r,o,s=this,a=R.isObservable(s);s._origNotifySubscribers||(s._origNotifySubscribers=s.notifySubscribers,s.notifySubscribers=_);var l=e(function(){s._notificationIsPending=!1,a&&r===s&&(r=s._evalIfChanged?s._evalIfChanged():s());var e=t||o&&s.isDifferent(i,r);o=t=n=!1,e&&s._origNotifySubscribers(i=r)});s._limitChange=function(e,t){t&&s._notificationIsPending||(o=!t),s._changeSubscriptions=s._subscriptions[O].slice(0),s._notificationIsPending=n=!0,r=e,l()},s._limitBeforeChange=function(e){n||(i=e,s._origNotifySubscribers(e,"beforeChange"))},s._recordUpdate=function(){o=!0},s._notifyNextChangeIfValueIsDifferent=function(){s.isDifferent(i,s.peek(!0))&&(t=!0)}},hasSubscriptionsForEvent:function(e){return this._subscriptions[e]&&this._subscriptions[e].length},getSubscriptionsCount:function(e){if(e)return this._subscriptions[e]&&this._subscriptions[e].length||0;var n=0;return R.utils.objectForEach(this._subscriptions,function(e,t){"dirty"!==e&&(n+=t.length)}),n},isDifferent:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},toString:function(){return"[object Object]"},extend:function(e){var i=this;return e&&R.utils.objectForEach(e,function(e,t){var n=R.extenders[e];"function"==typeof n&&(i=n(i,t)||i)}),i}};function V(e){A.push(I),I=e}function H(){I=A.pop()}R.exportProperty(B,"init",B.init),R.exportProperty(B,"subscribe",B.subscribe),R.exportProperty(B,"extend",B.extend),R.exportProperty(B,"getSubscriptionsCount",B.getSubscriptionsCount),R.utils.canSetPrototype&&R.utils.setPrototypeOf(B,Function.prototype),R.subscribable.fn=B,R.isSubscribable=function(e){return null!=e&&"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers},R.exportSymbol("subscribable",R.subscribable),R.exportSymbol("isSubscribable",R.isSubscribable),R.computedContext=R.dependencyDetection=(A=[],F=0,{begin:V,end:H,registerDependency:function(e){if(I){if(!R.isSubscribable(e))throw new Error("Only subscribable things can act as dependencies");I.callback.call(I.callbackTarget,e,e._id||(e._id=++F))}},ignore:function(e,t,n){try{return V(),e.apply(t,n||[])}finally{H()}},getDependenciesCount:function(){if(I)return I.computed.getDependenciesCount()},getDependencies:function(){if(I)return I.computed.getDependencies()},isInitial:function(){if(I)return I.isInitial},computed:function(){if(I)return I.computed}}),R.exportSymbol("computedContext",R.computedContext),R.exportSymbol("computedContext.getDependenciesCount",R.computedContext.getDependenciesCount),R.exportSymbol("computedContext.getDependencies",R.computedContext.getDependencies),R.exportSymbol("computedContext.isInitial",R.computedContext.isInitial),R.exportSymbol("computedContext.registerDependency",R.computedContext.registerDependency),R.exportSymbol("ignoreDependencies",R.ignoreDependencies=R.dependencyDetection.ignore);var P=R.utils.createSymbolOrString("_latestValue");R.observable=function(e){function t(){return 0<arguments.length?(t.isDifferent(t[P],arguments[0])&&(t.valueWillMutate(),t[P]=arguments[0],t.valueHasMutated()),this):(R.dependencyDetection.registerDependency(t),t[P])}return t[P]=e,R.utils.canSetPrototype||R.utils.extend(t,R.subscribable.fn),R.subscribable.fn.init(t),R.utils.setPrototypeOfOrExtend(t,M),R.options.deferUpdates&&R.extenders.deferred(t,!0),t};var M={equalityComparer:N,peek:function(){return this[P]},valueHasMutated:function(){this.notifySubscribers(this[P],"spectate"),this.notifySubscribers(this[P])},valueWillMutate:function(){this.notifySubscribers(this[P],"beforeChange")}};R.utils.canSetPrototype&&R.utils.setPrototypeOf(M,R.subscribable.fn);var W=R.observable.protoProperty="__ko_proto__";M[W]=R.observable,R.isObservable=function(e){var t="function"==typeof e&&e[W];if(t&&t!==M[W]&&t!==R.computed.fn[W])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");return!!t},R.isWriteableObservable=function(e){return"function"==typeof e&&(e[W]===M[W]||e[W]===R.computed.fn[W]&&e.hasWriteFunction)},R.exportSymbol("observable",R.observable),R.exportSymbol("isObservable",R.isObservable),R.exportSymbol("isWriteableObservable",R.isWriteableObservable),R.exportSymbol("isWritableObservable",R.isWriteableObservable),R.exportSymbol("observable.fn",M),R.exportProperty(M,"peek",M.peek),R.exportProperty(M,"valueHasMutated",M.valueHasMutated),R.exportProperty(M,"valueWillMutate",M.valueWillMutate),R.observableArray=function(e){if("object"!=typeof(e=e||[])||!("length"in e))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var t=R.observable(e);return R.utils.setPrototypeOfOrExtend(t,R.observableArray.fn),t.extend({trackArrayChanges:!0})},R.observableArray.fn={remove:function(t){for(var e=this.peek(),n=[],i="function"!=typeof t||R.isObservable(t)?function(e){return e===t}:t,r=0;r<e.length;r++){var o=e[r];if(i(o)){if(0===n.length&&this.valueWillMutate(),e[r]!==o)throw Error("Array modified during remove; cannot remove item");n.push(o),e.splice(r,1),r--}}return n.length&&this.valueHasMutated(),n},removeAll:function(t){if(t!==b)return t?this.remove(function(e){return 0<=R.utils.arrayIndexOf(t,e)}):[];var e=this.peek(),n=e.slice(0);return this.valueWillMutate(),e.splice(0,e.length),this.valueHasMutated(),n},destroy:function(t){var e=this.peek(),n="function"!=typeof t||R.isObservable(t)?function(e){return e===t}:t;this.valueWillMutate();for(var i=e.length-1;0<=i;i--){var r=e[i];n(r)&&(r._destroy=!0)}this.valueHasMutated()},destroyAll:function(t){return t===b?this.destroy(function(){return!0}):t?this.destroy(function(e){return 0<=R.utils.arrayIndexOf(t,e)}):[]},indexOf:function(e){var t=this();return R.utils.arrayIndexOf(t,e)},replace:function(e,t){var n=this.indexOf(e);0<=n&&(this.valueWillMutate(),this.peek()[n]=t,this.valueHasMutated())},sorted:function(e){var t=this().slice(0);return e?t.sort(e):t.sort()},reversed:function(){return this().slice(0).reverse()}},R.utils.canSetPrototype&&R.utils.setPrototypeOf(R.observableArray.fn,R.observable.fn),R.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(n){R.observableArray.fn[n]=function(){var e=this.peek();this.valueWillMutate(),this.cacheDiffForKnownOperation(e,n,arguments);var t=e[n].apply(e,arguments);return this.valueHasMutated(),t===e?this:t}}),R.utils.arrayForEach(["slice"],function(t){R.observableArray.fn[t]=function(){var e=this();return e[t].apply(e,arguments)}}),R.isObservableArray=function(e){return R.isObservable(e)&&"function"==typeof e.remove&&"function"==typeof e.push},R.exportSymbol("observableArray",R.observableArray),R.exportSymbol("isObservableArray",R.isObservableArray);var j="arrayChange";R.extenders.trackArrayChanges=function(n,e){if(n.compareArrayOptions={},e&&"object"==typeof e&&R.utils.extend(n.compareArrayOptions,e),n.compareArrayOptions.sparse=!0,!n.cacheDiffForKnownOperation){var t,i,r,v=!1,g=null,h=0,o=n.beforeSubscriptionAdd,s=n.afterSubscriptionRemove;n.beforeSubscriptionAdd=function(e){o&&o.call(n,e),e===j&&function(){if(v)return e();function e(){if(h){var e,t=[].concat(n.peek()||[]);n.hasSubscriptionsForEvent(j)&&(e=function(e,t){(!g||1<h)&&(g=R.utils.compareArrays(e,t,n.compareArrayOptions));return g}(r,t)),r=t,g=null,h=0,e&&e.length&&n.notifySubscribers(e,j)}}v=!0,i=n.subscribe(function(){++h},null,"spectate"),r=[].concat(n.peek()||[]),g=null,t=n.subscribe(e)}()},n.afterSubscriptionRemove=function(e){s&&s.call(n,e),e!==j||n.hasSubscriptionsForEvent(j)||(t&&t.dispose(),i&&i.dispose(),i=t=null,v=!1,r=b)},n.cacheDiffForKnownOperation=function(e,t,n){if(v&&!h){var i=[],r=e.length,o=n.length,s=0;switch(t){case"push":s=r;case"unshift":for(var a=0;a<o;a++)b("added",n[a],s+a);break;case"pop":s=r-1;case"shift":r&&b("deleted",e[s],s);break;case"splice":for(var l=Math.min(Math.max(0,n[0]<0?r+n[0]:n[0]),r),u=1===o?r:Math.min(l+(n[1]||0),r),d=l+o-2,c=Math.max(u,d),p=[],f=[],m=(a=l,2);a<c;++a,++m)a<u&&f.push(b("deleted",e[a],a)),a<d&&p.push(b("added",n[m],a));R.utils.findMovesInArrayComparison(f,p);break;default:return}g=i}function b(e,t,n){return i[i.length]={status:e,value:t,index:n}}}}};var L=R.utils.createSymbolOrString("_state");function $(e,t){null!==t&&t.dispose&&t.dispose()}function z(e,t){var n=this.computedObservable,i=n[L];i.isDisposed||(this.disposalCount&&this.disposalCandidates[t]?(n.addDependencyTracking(t,e,this.disposalCandidates[t]),this.disposalCandidates[t]=null,--this.disposalCount):i.dependencyTracking[t]||n.addDependencyTracking(t,e,i.isSleeping?{_target:e}:n.subscribeToDependency(e)),e._notificationIsPending&&e._notifyNextChangeIfValueIsDifferent())}R.computed=R.dependentObservable=function(e,t,n){if("object"==typeof e?n=e:(n=n||{},e&&(n.read=e)),"function"!=typeof n.read)throw Error("Pass a function that returns the value of the ko.computed");var i=n.write,r={latestValue:b,isStale:!0,isDirty:!0,isBeingEvaluated:!1,suppressDisposalUntilDisposeWhenReturnsFalse:!1,isDisposed:!1,pure:!1,isSleeping:!1,readFunction:n.read,evaluatorFunctionTarget:t||n.owner,disposeWhenNodeIsRemoved:n.disposeWhenNodeIsRemoved||n.disposeWhenNodeIsRemoved||null,disposeWhen:n.disposeWhen||n.disposeWhen,domNodeDisposalCallback:null,dependencyTracking:{},dependenciesCount:0,evaluationTimeoutInstance:null};function o(){if(0<arguments.length){if("function"!=typeof i)throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return i.apply(r.evaluatorFunctionTarget,arguments),this}return r.isDisposed||R.dependencyDetection.registerDependency(o),(r.isDirty||r.isSleeping&&o.haveDependenciesChanged())&&o.evaluateImmediate(),r.latestValue}return o[L]=r,o.hasWriteFunction="function"==typeof i,R.utils.canSetPrototype||R.utils.extend(o,R.subscribable.fn),R.subscribable.fn.init(o),R.utils.setPrototypeOfOrExtend(o,U),n.pure?(r.pure=!0,r.isSleeping=!0,R.utils.extend(o,J)):n.deferEvaluation&&R.utils.extend(o,q),R.options.deferUpdates&&R.extenders.deferred(o,!0),o._options=n,r.disposeWhenNodeIsRemoved&&(r.suppressDisposalUntilDisposeWhenReturnsFalse=!0,r.disposeWhenNodeIsRemoved.nodeType||(r.disposeWhenNodeIsRemoved=null)),r.isSleeping||n.deferEvaluation||o.evaluateImmediate(),r.disposeWhenNodeIsRemoved&&o.isActive()&&R.utils.domNodeDisposal.addDisposeCallback(r.disposeWhenNodeIsRemoved,r.domNodeDisposalCallback=function(){o.dispose()}),o};var U={equalityComparer:N,getDependenciesCount:function(){return this[L].dependenciesCount},getDependencies:function(){var e=this[L].dependencyTracking,n=[];return R.utils.objectForEach(e,function(e,t){n[t._order]=t._target}),n},hasAncestorDependency:function(t){if(!this[L].dependenciesCount)return!1;var e=this.getDependencies();return-1!==R.utils.arrayIndexOf(e,t)||!!R.utils.arrayFirst(e,function(e){return e.hasAncestorDependency&&e.hasAncestorDependency(t)})},addDependencyTracking:function(e,t,n){if(this[L].pure&&t===this)throw Error("A 'pure' computed must not be called recursively");(this[L].dependencyTracking[e]=n)._order=this[L].dependenciesCount++,n._version=t.getVersion()},haveDependenciesChanged:function(){var e,t,n=this[L].dependencyTracking;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&(t=n[e],this._evalDelayed&&t._target._notificationIsPending||t._target.hasChanged(t._version)))return!0},markDirty:function(){this._evalDelayed&&!this[L].isBeingEvaluated&&this._evalDelayed(!1)},isActive:function(){var e=this[L];return e.isDirty||0<e.dependenciesCount},respondToChange:function(){this._notificationIsPending?this[L].isDirty&&(this[L].isStale=!0):this.evaluatePossiblyAsync()},subscribeToDependency:function(e){if(e._deferUpdates){var t=e.subscribe(this.markDirty,this,"dirty"),n=e.subscribe(this.respondToChange,this);return{_target:e,dispose:function(){t.dispose(),n.dispose()}}}return e.subscribe(this.evaluatePossiblyAsync,this)},evaluatePossiblyAsync:function(){var e=this,t=e.throttleEvaluation;t&&0<=t?(clearTimeout(this[L].evaluationTimeoutInstance),this[L].evaluationTimeoutInstance=R.utils.setTimeout(function(){e.evaluateImmediate(!0)},t)):e._evalDelayed?e._evalDelayed(!0):e.evaluateImmediate(!0)},evaluateImmediate:function(e){var t=this[L],n=t.disposeWhen,i=!1;if(!t.isBeingEvaluated&&!t.isDisposed){if(t.disposeWhenNodeIsRemoved&&!R.utils.domNodeIsAttachedToDocument(t.disposeWhenNodeIsRemoved)||n&&n()){if(!t.suppressDisposalUntilDisposeWhenReturnsFalse)return void this.dispose()}else t.suppressDisposalUntilDisposeWhenReturnsFalse=!1;t.isBeingEvaluated=!0;try{i=this.evaluateImmediate_CallReadWithDependencyDetection(e)}finally{t.isBeingEvaluated=!1}return i}},evaluateImmediate_CallReadWithDependencyDetection:function(e){var t=this,n=t[L],i=!1,r=n.pure?b:!n.dependenciesCount,o={computedObservable:t,disposalCandidates:n.dependencyTracking,disposalCount:n.dependenciesCount};R.dependencyDetection.begin({callbackTarget:o,callback:z,computed:t,isInitial:r}),n.dependencyTracking={},n.dependenciesCount=0;var s=this.evaluateImmediate_CallReadThenEndDependencyDetection(n,o);return(i=n.dependenciesCount?t.isDifferent(n.latestValue,s):(t.dispose(),!0))&&(n.isSleeping?t.updateVersion():t.notifySubscribers(n.latestValue,"beforeChange"),n.latestValue=s,t._latestValue=s,t.notifySubscribers(n.latestValue,"spectate"),!n.isSleeping&&e&&t.notifySubscribers(n.latestValue),t._recordUpdate&&t._recordUpdate()),r&&t.notifySubscribers(n.latestValue,"awake"),i},evaluateImmediate_CallReadThenEndDependencyDetection:function(e,t){try{var n=e.readFunction;return e.evaluatorFunctionTarget?n.call(e.evaluatorFunctionTarget):n()}finally{R.dependencyDetection.end(),t.disposalCount&&!e.isSleeping&&R.utils.objectForEach(t.disposalCandidates,$),e.isStale=e.isDirty=!1}},peek:function(e){var t=this[L];return(t.isDirty&&(e||!t.dependenciesCount)||t.isSleeping&&this.haveDependenciesChanged())&&this.evaluateImmediate(),t.latestValue},limit:function(e){R.subscribable.fn.limit.call(this,e),this._evalIfChanged=function(){return this[L].isSleeping||(this[L].isStale?this.evaluateImmediate():this[L].isDirty=!1),this[L].latestValue},this._evalDelayed=function(e){this._limitBeforeChange(this[L].latestValue),this[L].isDirty=!0,e&&(this[L].isStale=!0),this._limitChange(this,!e)}},dispose:function(){var e=this[L];!e.isSleeping&&e.dependencyTracking&&R.utils.objectForEach(e.dependencyTracking,function(e,t){t.dispose&&t.dispose()}),e.disposeWhenNodeIsRemoved&&e.domNodeDisposalCallback&&R.utils.domNodeDisposal.removeDisposeCallback(e.disposeWhenNodeIsRemoved,e.domNodeDisposalCallback),e.dependencyTracking=b,e.dependenciesCount=0,e.isDisposed=!0,e.isStale=!1,e.isDirty=!1,e.isSleeping=!1,e.disposeWhenNodeIsRemoved=b,e.disposeWhen=b,e.readFunction=b,this.hasWriteFunction||(e.evaluatorFunctionTarget=b)}},J={beforeSubscriptionAdd:function(e){var r=this,o=r[L];if(!o.isDisposed&&o.isSleeping&&"change"==e){if(o.isSleeping=!1,o.isStale||r.haveDependenciesChanged())o.dependencyTracking=null,o.dependenciesCount=0,r.evaluateImmediate()&&r.updateVersion();else{var n=[];R.utils.objectForEach(o.dependencyTracking,function(e,t){n[t._order]=e}),R.utils.arrayForEach(n,function(e,t){var n=o.dependencyTracking[e],i=r.subscribeToDependency(n._target);i._order=t,i._version=n._version,o.dependencyTracking[e]=i}),r.haveDependenciesChanged()&&r.evaluateImmediate()&&r.updateVersion()}o.isDisposed||r.notifySubscribers(o.latestValue,"awake")}},afterSubscriptionRemove:function(e){var n=this[L];n.isDisposed||"change"!=e||this.hasSubscriptionsForEvent("change")||(R.utils.objectForEach(n.dependencyTracking,function(e,t){t.dispose&&(n.dependencyTracking[e]={_target:t._target,_order:t._order,_version:t._version},t.dispose())}),n.isSleeping=!0,this.notifySubscribers(b,"asleep"))},getVersion:function(){var e=this[L];return e.isSleeping&&(e.isStale||this.haveDependenciesChanged())&&this.evaluateImmediate(),R.subscribable.fn.getVersion.call(this)}},q={beforeSubscriptionAdd:function(e){"change"!=e&&"beforeChange"!=e||this.peek()}};R.utils.canSetPrototype&&R.utils.setPrototypeOf(U,R.subscribable.fn);var K,Q,G,Y,Z,X,ee,te,ne,ie,re,oe,se,ae,le,ue,de,ce,pe=R.observable.protoProperty;function fe(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(var i in e)t(i)}function me(){this.keys=[],this.values=[]}function be(e){var t=R.utils.stringTrim(e);123===t.charCodeAt(0)&&(t=t.slice(1,-1));var n,i=[],r=(t+="\n,").match(Z),o=[],s=0;if(1<r.length){for(var a,l=0;a=r[l];++l){var u=a.charCodeAt(0);if(44===u){if(s<=0){i.push(n&&o.length?{key:n,value:o.join("")}:{unknown:n||o.join("")}),n=s=0,o=[];continue}}else if(58===u){if(!s&&!n&&1===o.length){n=o.pop();continue}}else{if(47===u&&1<a.length&&(47===a.charCodeAt(1)||42===a.charCodeAt(1)))continue;if(47===u&&l&&1<a.length){var d=r[l-1].match(X);d&&!ee[d[0]]&&(r=(t=t.substr(t.indexOf(a)+1)).match(Z),l=-1,a="/")}else 40===u||123===u||91===u?++s:41===u||125===u||93===u?--s:n||o.length||34!==u&&39!==u||(a=a.slice(1,-1))}o.push(a)}if(0<s)throw Error("Unbalanced parentheses, braces, or brackets")}return i}function ve(e){return 8==e.nodeType&&ie.test(ne?e.text:e.nodeValue)}function ge(e){return 8==e.nodeType&&re.test(ne?e.text:e.nodeValue)}function he(e,t){for(var n=e,i=1,r=[];n=n.nextSibling;){if(ge(n)&&(R.utils.domData.set(n,se,!0),0===--i))return r;r.push(n),ve(n)&&i++}if(!t)throw new Error("Cannot find closing comment tag to match: "+e.nodeValue);return null}function ye(e,t){var n=he(e,t);return n?0<n.length?n[n.length-1].nextSibling:e.nextSibling:null}function xe(e){var t=e.firstChild,n=null;if(t)do{if(n)n.push(t);else if(ve(t)){var i=ye(t,!0);i?t=i:n=[t]}else ge(t)&&(n=[t])}while(t=t.nextSibling);return n}function Ee(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:le}function we(t,n,i,r){var e=(r=r||R.components.loaders.slice(0)).shift();if(e){var o=e[t];if(o){var s=!1;if(o.apply(e,n.concat(function(e){s?i(null):null!==e?i(e):we(t,n,i,r)}))!==le&&(s=!0,!e.suppressLoaderExceptions))throw new Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else we(t,n,i,r)}else i(null)}U[pe]=R.computed,R.isComputed=function(e){return"function"==typeof e&&e[pe]===U[pe]},R.isPureComputed=function(e){return R.isComputed(e)&&e[L]&&e[L].pure},R.exportSymbol("computed",R.computed),R.exportSymbol("dependentObservable",R.computed),R.exportSymbol("isComputed",R.isComputed),R.exportSymbol("isPureComputed",R.isPureComputed),R.exportSymbol("computed.fn",U),R.exportProperty(U,"peek",U.peek),R.exportProperty(U,"dispose",U.dispose),R.exportProperty(U,"isActive",U.isActive),R.exportProperty(U,"getDependenciesCount",U.getDependenciesCount),R.exportProperty(U,"getDependencies",U.getDependencies),R.pureComputed=function(e,t){return"function"==typeof e?R.computed(e,t,{pure:!0}):((e=R.utils.extend({},e)).pure=!0,R.computed(e,t))},R.exportSymbol("pureComputed",R.pureComputed),R.toJS=function(e){if(0==arguments.length)throw new Error("When calling ko.toJS, pass the object you want to convert.");return function i(r,o,s){s=s||new me;r=o(r);var e=!("object"!=typeof r||null===r||r===b||r instanceof RegExp||r instanceof Date||r instanceof String||r instanceof Number||r instanceof Boolean);if(!e)return r;var a=r instanceof Array?[]:{};s.save(r,a);fe(r,function(e){var t=o(r[e]);switch(typeof t){case"boolean":case"number":case"string":case"function":a[e]=t;break;case"object":case"undefined":var n=s.get(t);a[e]=n!==b?n:i(t,o,s)}});return a}(e,function(e){for(var t=0;R.isObservable(e)&&t<10;t++)e=e();return e})},R.toJSON=function(e,t,n){var i=R.toJS(e);return R.utils.stringifyJson(i,t,n)},me.prototype={constructor:me,save:function(e,t){var n=R.utils.arrayIndexOf(this.keys,e);0<=n?this.values[n]=t:(this.keys.push(e),this.values.push(t))},get:function(e){var t=R.utils.arrayIndexOf(this.keys,e);return 0<=t?this.values[t]:b}},R.exportSymbol("toJS",R.toJS),R.exportSymbol("toJSON",R.toJSON),R.when=function(i,e,r){function t(t){var e=R.pureComputed(i,r).extend({notify:"always"}),n=e.subscribe(function(e){e&&(n.dispose(),t(e))});return e.notifySubscribers(e.peek()),n}return"function"!=typeof Promise||e?t(e.bind(r)):new Promise(t)},R.exportSymbol("when",R.when),K="__ko__hasDomDataOptionValue__",R.selectExtensions={readValue:function(e){switch(R.utils.tagNameLower(e)){case"option":return!0===e[K]?R.utils.domData.get(e,R.bindingHandlers.options.optionValueDomDataKey):R.utils.ieVersion<=7?e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return 0<=e.selectedIndex?R.selectExtensions.readValue(e.options[e.selectedIndex]):b;default:return e.value}},writeValue:function(e,t,n){switch(R.utils.tagNameLower(e)){case"option":"string"==typeof t?(R.utils.domData.set(e,R.bindingHandlers.options.optionValueDomDataKey,b),K in e&&delete e[K],e.value=t):(R.utils.domData.set(e,R.bindingHandlers.options.optionValueDomDataKey,t),e[K]=!0,e.value="number"==typeof t?t:"");break;case"select":""!==t&&null!==t||(t=b);for(var i,r=-1,o=0,s=e.options.length;o<s;++o)if((i=R.selectExtensions.readValue(e.options[o]))==t||""===i&&t===b){r=o;break}(n||0<=r||t===b&&1<e.size)&&(e.selectedIndex=r,6===R.utils.ieVersion&&R.utils.setTimeout(function(){e.selectedIndex=r},0));break;default:null!==t&&t!==b||(t=""),e.value=t}}},R.exportSymbol("selectExtensions",R.selectExtensions),R.exportSymbol("selectExtensions.readValue",R.selectExtensions.readValue),R.exportSymbol("selectExtensions.writeValue",R.selectExtensions.writeValue),R.expressionRewriting=(Q=["true","false","null","undefined"],G=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,Y=",\"'`{}()/:[\\]",Z=RegExp(['"(?:\\\\.|[^"])*"',"'(?:\\\\.|[^'])*'","`(?:\\\\.|[^`])*`","/\\*(?:[^*]|\\*+[^*/])*\\*+/","//.*\n","/(?:\\\\.|[^/])+/w*","[^\\s:,/][^"+Y+"]*[^\\s"+Y+"]","[^\\s]"].join("|"),"g"),X=/[\])"'A-Za-z0-9_$]+$/,ee={in:1,return:1,typeof:1},{bindingRewriteValidators:[],twoWayBindings:te={},parseObjectLiteral:be,preProcessBindings:function(e,t){function o(e,t){var n,i;if(!u){if((i=R.getBindingHandler(e))&&i.preprocess&&!(t=i.preprocess(t,e,o)))return;if(te[e]&&(n=function(e){if(0<=R.utils.arrayIndexOf(Q,e))return!1;var t=e.match(G);return null!==t&&(t[1]?"Object("+t[1]+")"+t[2]:e)}(t))){var r="string"==typeof te[e]?te[e]:e;a.push("'"+r+"':function(_z){"+n+"=_z}")}}l&&(t="function(){return "+t+" }"),s.push("'"+e+"':"+t)}var s=[],a=[],l=(t=t||{}).valueAccessors,u=t.bindingParams,n="string"==typeof e?be(e):e;return R.utils.arrayForEach(n,function(e){o(e.key||e.unknown,e.value)}),a.length&&o("_ko_property_writers","{"+a.join(",")+" }"),s.join(",")},keyValueArrayContainsKey:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},writeValueToProperty:function(e,t,n,i,r){if(e&&R.isObservable(e))!R.isWriteableObservable(e)||r&&e.peek()===i||e(i);else{var o=t.get("_ko_property_writers");o&&o[n]&&o[n](i)}}}),R.exportSymbol("expressionRewriting",R.expressionRewriting),R.exportSymbol("expressionRewriting.bindingRewriteValidators",R.expressionRewriting.bindingRewriteValidators),R.exportSymbol("expressionRewriting.parseObjectLiteral",R.expressionRewriting.parseObjectLiteral),R.exportSymbol("expressionRewriting.preProcessBindings",R.expressionRewriting.preProcessBindings),R.exportSymbol("expressionRewriting._twoWayBindings",R.expressionRewriting.twoWayBindings),R.exportSymbol("jsonExpressionRewriting",R.expressionRewriting),R.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",R.expressionRewriting.preProcessBindings),ne=d&&"\x3c!--test--\x3e"===d.createComment("test").text,ie=ne?/^<!--\s*ko(?:\s+([\s\S]+))?\s*-->$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,re=ne?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,oe={ul:!0,ol:!0},se="__ko_matchedEndComment__",R.virtualElements={allowedBindings:{},childNodes:function(e){return ve(e)?he(e):e.childNodes},emptyNode:function(e){if(ve(e))for(var t=R.virtualElements.childNodes(e),n=0,i=t.length;n<i;n++)R.removeNode(t[n]);else R.utils.emptyDomNode(e)},setDomNodeChildren:function(e,t){if(ve(e)){R.virtualElements.emptyNode(e);for(var n=e.nextSibling,i=0,r=t.length;i<r;i++)n.parentNode.insertBefore(t[i],n)}else R.utils.setDomNodeChildren(e,t)},prepend:function(e,t){var n;ve(e)?(n=e.nextSibling,e=e.parentNode):n=e.firstChild,n?t!==n&&e.insertBefore(t,n):e.appendChild(t)},insertAfter:function(e,t,n){if(n){var i=n.nextSibling;ve(e)&&(e=e.parentNode),i?t!==i&&e.insertBefore(t,i):e.appendChild(t)}else R.virtualElements.prepend(e,t)},firstChild:function(e){if(ve(e))return!e.nextSibling||ge(e.nextSibling)?null:e.nextSibling;if(e.firstChild&&ge(e.firstChild))throw new Error("Found invalid end comment, as the first child of "+e);return e.firstChild},nextSibling:function(e){if(ve(e)&&(e=ye(e)),e.nextSibling&&ge(e.nextSibling)){if(ge(t=e.nextSibling)&&!R.utils.domData.get(t,se))throw Error("Found end comment without a matching opening comment, as child of "+e);return null}return e.nextSibling;var t},hasBindingValue:ve,virtualNodeBindingValue:function(e){var t=(ne?e.text:e.nodeValue).match(ie);return t?t[1]:null},normaliseVirtualElementDomStructure:function(e){if(oe[R.utils.tagNameLower(e)]){var t=e.firstChild;if(t)do{if(1===t.nodeType){var n=xe(t);if(n)for(var i=t.nextSibling,r=0;r<n.length;r++)i?e.insertBefore(n[r],i):e.appendChild(n[r])}}while(t=t.nextSibling)}}},R.exportSymbol("virtualElements",R.virtualElements),R.exportSymbol("virtualElements.allowedBindings",R.virtualElements.allowedBindings),R.exportSymbol("virtualElements.emptyNode",R.virtualElements.emptyNode),R.exportSymbol("virtualElements.insertAfter",R.virtualElements.insertAfter),R.exportSymbol("virtualElements.prepend",R.virtualElements.prepend),R.exportSymbol("virtualElements.setDomNodeChildren",R.virtualElements.setDomNodeChildren),ae="data-bind",R.bindingProvider=function(){this.bindingCache={}},R.utils.extend(R.bindingProvider.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute(ae)||R.components.getComponentNameForNode(e);case 8:return R.virtualElements.hasBindingValue(e);default:return!1}},getBindings:function(e,t){var n=this.getBindingsString(e,t),i=n?this.parseBindingsString(n,t,e):null;return R.components.addBindingsForCustomElement(i,e,t,!1)},getBindingAccessors:function(e,t){var n=this.getBindingsString(e,t),i=n?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null;return R.components.addBindingsForCustomElement(i,e,t,!0)},getBindingsString:function(e,t){switch(e.nodeType){case 1:return e.getAttribute(ae);case 8:return R.virtualElements.virtualNodeBindingValue(e);default:return null}},parseBindingsString:function(t,e,n,i){try{return(r=t,o=this.bindingCache,a=r+((s=i)&&s.valueAccessors||""),o[a]||(o[a]=function(e,t){var n=R.expressionRewriting.preProcessBindings(e,t);return new Function("$context","$element","with($context){with($data||{}){return{"+n+"}}}")}(r,s)))(e,n)}catch(e){throw e.message="Unable to parse bindings.\nBindings value: "+t+"\nMessage: "+e.message,e}var r,o,s,a}}),R.bindingProvider.instance=new R.bindingProvider,R.exportSymbol("bindingProvider",R.bindingProvider),function(){var x=R.utils.createSymbolOrString("_subscribable"),p=R.utils.createSymbolOrString("_ancestorBindingInfo"),E=R.utils.createSymbolOrString("_dataDependency");R.bindingHandlers={};var r={script:!0,textarea:!0,template:!0};R.getBindingHandler=function(e){return R.bindingHandlers[e]};var m={};R.bindingContext=function(e,n,i,r,t){function o(){var e=d?u():u,t=R.utils.unwrapObservable(e);return n?(R.utils.extend(a,n),p in n&&(a[p]=n[p])):(a.$parents=[],a.$root=t,a.ko=R),a[x]=s,l?t=a.$data:(a.$rawData=e,a.$data=t),i&&(a[i]=t),r&&r(a,n,t),n&&n[x]&&!R.computedContext.computed().hasAncestorDependency(n[x])&&n[x](),c&&(a[E]=c),a.$data}var s,a=this,l=e===m,u=l?b:e,d="function"==typeof u&&!R.isObservable(u),c=t&&t.dataDependency;t&&t.exportDependencies?o():((s=R.pureComputed(o)).peek(),s.isActive()?s.equalityComparer=null:a[x]=b)},R.bindingContext.prototype.createChildContext=function(t,n,i,e){if(!e&&n&&"object"==typeof n&&(n=(e=n).as,i=e.extend),n&&e&&e.noChildContext){var r="function"==typeof t&&!R.isObservable(t);return new R.bindingContext(m,this,null,function(e){i&&i(e),e[n]=r?t():t},e)}return new R.bindingContext(t,this,n,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),i&&i(e)},e)},R.bindingContext.prototype.extend=function(n,e){return new R.bindingContext(m,this,null,function(e,t){R.utils.extend(e,"function"==typeof n?n(e):n)},e)};var w=R.utils.domData.nextKey();function i(e){var t=R.utils.domData.get(e,w),n=t&&t.asyncContext;n&&(t.asyncContext=null,n.notifyAncestor())}function o(e,t,n){this.node=e,this.bindingInfo=t,this.asyncDescendants=[],this.childrenComplete=!1,t.asyncContext||R.utils.domNodeDisposal.addDisposeCallback(e,i),n&&n.asyncContext&&(n.asyncContext.asyncDescendants.push(e),this.ancestorBindingInfo=n)}function a(e){return function(){return e}}function C(e){return e()}function l(n){return R.utils.objectMap(R.dependencyDetection.ignore(n),function(e,t){return function(){return n()[t]}})}function D(e,t){return l(this.getBindings.bind(this,e,t))}function s(e,t){var n=R.virtualElements.firstChild(t);if(n){var i,r=R.bindingProvider.instance,o=r.preprocessNode;if(o){for(;i=n;)n=R.virtualElements.nextSibling(i),o.call(r,i);n=R.virtualElements.firstChild(t)}for(;i=n;)n=R.virtualElements.nextSibling(i),u(e,i)}R.bindingEvent.notify(t,R.bindingEvent.childrenComplete)}function u(e,t){var n=e,i=1===t.nodeType;i&&R.virtualElements.normaliseVirtualElementDomStructure(t),(i||R.bindingProvider.instance.nodeHasBindings(t))&&(n=v(t,null,e).bindingContextForDescendants),n&&!r[R.utils.tagNameLower(t)]&&s(n,t)}function v(r,e,t){var o,n=R.utils.domData.getOrSet(r,w,{}),i=n.alreadyBound;if(!e){if(i)throw Error("You cannot apply bindings multiple times to the same element.");n.alreadyBound=!0}if(i||(n.context=t),n.notifiedEvents||(n.notifiedEvents={}),e&&"function"!=typeof e)o=e;else{var s=R.bindingProvider.instance,a=s.getBindingAccessors||D,l=R.dependentObservable(function(){return(o=e?e(t,r):a.call(s,r,t))&&(t[x]&&t[x](),t[E]&&t[E]()),o},null,{disposeWhenNodeIsRemoved:r});o&&l.isActive()||(l=null)}var u,d,c,p,f,m=t;if(o){var v=l?function(e){return function(){return C(l()[e])}}:function(e){return o[e]};function g(){return R.utils.objectMap(l?l():o,C)}g.get=function(e){return o[e]&&C(v(e))},g.has=function(e){return e in o},R.bindingEvent.childrenComplete in o&&R.bindingEvent.subscribe(r,R.bindingEvent.childrenComplete,function(){var e=C(o[R.bindingEvent.childrenComplete]);if(e){var t=R.virtualElements.childNodes(r);t.length&&e(t,R.dataFor(t[0]))}}),R.bindingEvent.descendantsComplete in o&&(m=R.bindingEvent.startPossiblyAsyncContentBinding(r,t),R.bindingEvent.subscribe(r,R.bindingEvent.descendantsComplete,function(){var e=C(o[R.bindingEvent.descendantsComplete]);e&&R.virtualElements.firstChild(r)&&e(r)}));var h=(d=o,c=[],p={},f=[],R.utils.objectForEach(d,function t(e){if(!p[e]){var n=R.getBindingHandler(e);n&&(n.after&&(f.push(e),R.utils.arrayForEach(n.after,function(e){if(d[e]){if(-1!==R.utils.arrayIndexOf(f,e))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+f.join(", "));t(e)}}),f.length--),c.push({key:e,handler:n})),p[e]=!0}}),c);R.utils.arrayForEach(h,function(e){var t=e.handler.init,n=e.handler.update,i=e.key;8===r.nodeType&&function(e){if(!R.virtualElements.allowedBindings[e])throw new Error("The binding '"+e+"' cannot be used with virtual elements")}(i);try{"function"==typeof t&&R.dependencyDetection.ignore(function(){var e=t(r,v(i),g,m.$data,m);if(e&&e.controlsDescendantBindings){if(u!==b)throw new Error("Multiple bindings ("+u+" and "+i+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");u=i}}),"function"==typeof n&&R.dependentObservable(function(){n(r,v(i),g,m.$data,m)},null,{disposeWhenNodeIsRemoved:r})}catch(e){throw e.message='Unable to process binding "'+i+": "+o[i]+'"\nMessage: '+e.message,e}})}var y=u===b;return{shouldBindDescendants:y,bindingContextForDescendants:y&&m}}function g(e,t){return e&&e instanceof R.bindingContext?e:new R.bindingContext(e,b,b,t)}o.prototype.notifyAncestor=function(){this.ancestorBindingInfo&&this.ancestorBindingInfo.asyncContext&&this.ancestorBindingInfo.asyncContext.descendantComplete(this.node)},o.prototype.descendantComplete=function(e){R.utils.arrayRemoveItem(this.asyncDescendants,e),!this.asyncDescendants.length&&this.childrenComplete&&this.completeChildren()},o.prototype.completeChildren=function(){this.childrenComplete=!0,this.bindingInfo.asyncContext&&!this.asyncDescendants.length&&(this.bindingInfo.asyncContext=null,R.utils.domNodeDisposal.removeDisposeCallback(this.node,i),R.bindingEvent.notify(this.node,R.bindingEvent.descendantsComplete),this.notifyAncestor())},R.bindingEvent={childrenComplete:"childrenComplete",descendantsComplete:"descendantsComplete",subscribe:function(e,t,n,i,r){var o=R.utils.domData.getOrSet(e,w,{});return o.eventSubscribable||(o.eventSubscribable=new R.subscribable),r&&r.notifyImmediately&&o.notifiedEvents[t]&&R.dependencyDetection.ignore(n,i,[e]),o.eventSubscribable.subscribe(n,i,t)},notify:function(e,t){var n=R.utils.domData.get(e,w);if(n&&(n.notifiedEvents[t]=!0,n.eventSubscribable&&n.eventSubscribable.notifySubscribers(e,t),t==R.bindingEvent.childrenComplete))if(n.asyncContext)n.asyncContext.completeChildren();else if(n.asyncContext===b&&n.eventSubscribable&&n.eventSubscribable.hasSubscriptionsForEvent(R.bindingEvent.descendantsComplete))throw new Error("descendantsComplete event not supported for bindings on this node")},startPossiblyAsyncContentBinding:function(e,t){var n=R.utils.domData.getOrSet(e,w,{});return n.asyncContext||(n.asyncContext=new o(e,n,t[p])),t[p]==n?t:t.extend(function(e){e[p]=n})}},R.storedBindingContextForNode=function(e){var t=R.utils.domData.get(e,w);return t&&t.context},R.applyBindingAccessorsToNode=function(e,t,n){return 1===e.nodeType&&R.virtualElements.normaliseVirtualElementDomStructure(e),v(e,t,g(n))},R.applyBindingsToNode=function(e,t,n){var i,r,o,s=g(n);return R.applyBindingAccessorsToNode(e,(r=s,o=e,"function"==typeof(i=t)?l(i.bind(null,r,o)):R.utils.objectMap(i,a)),s)},R.applyBindingsToDescendants=function(e,t){1!==t.nodeType&&8!==t.nodeType||s(g(e),t)},R.applyBindings=function(e,t,n){if(!f&&c.jQuery&&(f=c.jQuery),arguments.length<2){if(!(t=d.body))throw Error("ko.applyBindings: could not find document.body; has the document been loaded?")}else if(!t||1!==t.nodeType&&8!==t.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");u(g(e,n),t)},R.contextFor=function(e){return!e||1!==e.nodeType&&8!==e.nodeType?b:R.storedBindingContextForNode(e)},R.dataFor=function(e){var t=R.contextFor(e);return t?t.$data:b},R.exportSymbol("bindingHandlers",R.bindingHandlers),R.exportSymbol("bindingEvent",R.bindingEvent),R.exportSymbol("bindingEvent.subscribe",R.bindingEvent.subscribe),R.exportSymbol("bindingEvent.startPossiblyAsyncContentBinding",R.bindingEvent.startPossiblyAsyncContentBinding),R.exportSymbol("applyBindings",R.applyBindings),R.exportSymbol("applyBindingsToDescendants",R.applyBindingsToDescendants),R.exportSymbol("applyBindingAccessorsToNode",R.applyBindingAccessorsToNode),R.exportSymbol("applyBindingsToNode",R.applyBindingsToNode),R.exportSymbol("contextFor",R.contextFor),R.exportSymbol("dataFor",R.dataFor)}(),ue={},de={},R.components={get:function(e,t){var i,n,r,o,s=Ee(de,e);s?s.isSynchronousComponent?R.dependencyDetection.ignore(function(){t(s.definition)}):R.tasks.schedule(function(){t(s.definition)}):(n=t,(o=Ee(ue,i=e))?o.subscribe(n):((o=ue[i]=new R.subscribable).subscribe(n),function(e,n){we("getConfig",[e],function(t){t?we("loadComponent",[e,t],function(e){n(e,t)}):n(null,null)})}(i,function(e,t){var n=!(!t||!t.synchronous);de[i]={definition:e,isSynchronousComponent:n},delete ue[i],r||n?o.notifySubscribers(e):R.tasks.schedule(function(){o.notifySubscribers(e)})}),r=!0))},clearCachedDefinition:function(e){delete de[e]},_getFirstResultFromLoaders:we},R.components.loaders=[],R.exportSymbol("components",R.components),R.exportSymbol("components.get",R.components.get),R.exportSymbol("components.clearCachedDefinition",R.components.clearCachedDefinition),function(){var n={};R.components.register=function(e,t){if(!t)throw new Error("Invalid configuration for "+e);if(R.components.isRegistered(e))throw new Error("Component "+e+" is already registered");n[e]=t},R.components.isRegistered=function(e){return Object.prototype.hasOwnProperty.call(n,e)},R.components.unregister=function(e){delete n[e],R.components.clearCachedDefinition(e)},R.components.defaultLoader={getConfig:function(e,t){t(R.components.isRegistered(e)?n[e]:null)},loadComponent:function(t,e,n){var i=r(t);p(i,e,function(e){!function(t,e,n,i){function r(){0==--s&&i(o)}var o={},s=2,a=n.template,l=n.viewModel;a?p(e,a,function(e){R.components._getFirstResultFromLoaders("loadTemplate",[t,e],function(e){o.template=e,r()})}):r();l?p(e,l,function(e){R.components._getFirstResultFromLoaders("loadViewModel",[t,e],function(e){o[u]=e,r()})}):r()}(t,i,e,n)})},loadTemplate:function(e,t,n){!function(e,t,n){if("string"==typeof t)n(R.utils.parseHtmlFragment(t));else if(t instanceof Array)n(t);else if(s(t))n(R.utils.makeArray(t.childNodes));else if(t.element){var i=t.element;if(function(e){return c.HTMLElement?e instanceof HTMLElement:e&&e.tagName&&1===e.nodeType}(i))n(o(i));else if("string"==typeof i){var r=d.getElementById(i);r?n(o(r)):e("Cannot find element with ID "+i)}else e("Unknown element type: "+i)}else e("Unknown template value: "+t)}(r(e),t,n)},loadViewModel:function(e,t,n){!function e(t,n,i){if("function"==typeof n)i(function(e){return new n(e)});else if("function"==typeof n[u])i(n[u]);else if("instance"in n){var r=n.instance;i(function(e,t){return r})}else"viewModel"in n?e(t,n.viewModel,i):t("Unknown viewModel value: "+n)}(r(e),t,n)}};var u="createViewModel";function o(e){switch(R.utils.tagNameLower(e)){case"script":return R.utils.parseHtmlFragment(e.text);case"textarea":return R.utils.parseHtmlFragment(e.value);case"template":if(s(e.content))return R.utils.cloneNodes(e.content.childNodes)}return R.utils.cloneNodes(e.childNodes)}function s(e){return c.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function p(e,t,n){"string"==typeof t.require?i||c.require?(i||c.require)([t.require],function(e){e&&"object"==typeof e&&e.__esModule&&e.default&&(e=e.default),n(e)}):e("Uses require, but no AMD loader is present"):n(t)}function r(t){return function(e){throw new Error("Component '"+t+"': "+e)}}R.exportSymbol("components.register",R.components.register),R.exportSymbol("components.isRegistered",R.components.isRegistered),R.exportSymbol("components.unregister",R.components.unregister),R.exportSymbol("components.defaultLoader",R.components.defaultLoader),R.components.loaders.push(R.components.defaultLoader),R.components._allRegisteredComponents=n}(),function(){R.components.getComponentNameForNode=function(e){var t=R.utils.tagNameLower(e);if(R.components.isRegistered(t)&&(-1!=t.indexOf("-")||""+e=="[object HTMLUnknownElement]"||R.utils.ieVersion<=8&&e.tagName===t))return t},R.components.addBindingsForCustomElement=function(e,t,n,i){if(1===t.nodeType){var r=R.components.getComponentNameForNode(t);if(r){if((e=e||{}).component)throw new Error('Cannot use the "component" binding on a custom element matching a component');var o={name:r,params:function(i,e){var t=i.getAttribute("params");{if(t){var n=s.parseBindingsString(t,e,i,{valueAccessors:!0,bindingParams:!0}),r=R.utils.objectMap(n,function(e,t){return R.computed(e,null,{disposeWhenNodeIsRemoved:i})}),o=R.utils.objectMap(r,function(t,e){var n=t.peek();return t.isActive()?R.computed({read:function(){return R.utils.unwrapObservable(t())},write:R.isWriteableObservable(n)&&function(e){t()(e)},disposeWhenNodeIsRemoved:i}):n});return Object.prototype.hasOwnProperty.call(o,"$raw")||(o.$raw=r),o}return{$raw:{}}}}(t,n)};e.component=i?function(){return o}:o}}return e};var i,t,s=new R.bindingProvider;R.utils.ieVersion<9&&(R.components.register=(t=R.components.register,function(e){return d.createElement(e),t.apply(this,arguments)}),d.createDocumentFragment=(i=d.createDocumentFragment,function(){var e=i(),t=R.components._allRegisteredComponents;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.createElement(n);return e}))}(),ce=0,R.bindingHandlers.component={init:function(c,t,e,n,i){function p(){var e=f&&f.dispose;"function"==typeof e&&e.call(f),b&&b.dispose(),m=f=b=null}var f,m,b,v=R.utils.makeArray(R.virtualElements.childNodes(c));return R.virtualElements.emptyNode(c),R.utils.domNodeDisposal.addDisposeCallback(c,p),R.computed(function(){var a,l,e=R.utils.unwrapObservable(t());if("string"==typeof e?a=e:(a=R.utils.unwrapObservable(e.name),l=R.utils.unwrapObservable(e.params)),!a)throw new Error("No component name specified");var u=R.bindingEvent.startPossiblyAsyncContentBinding(c,i),d=m=++ce;R.components.get(a,function(e){if(m===d){if(p(),!e)throw new Error("Unknown component '"+a+"'");!function(e,t,n){var i=t.template;if(!i)throw new Error("Component '"+e+"' has no template");var r=R.utils.cloneNodes(i);R.virtualElements.setDomNodeChildren(n,r)}(a,e,c);var t,n,i,r,o=(n=l,i={element:c,templateNodes:v},(r=(t=e).createViewModel)?r.call(t,n,i):n),s=u.createChildContext(o,{extend:function(e){e.$component=o,e.$componentTemplateNodes=v}});o&&o.koDescendantsComplete&&(b=R.bindingEvent.subscribe(c,R.bindingEvent.descendantsComplete,o.koDescendantsComplete,o)),f=o,R.applyBindingsToDescendants(s,c)}})},null,{disposeWhenNodeIsRemoved:c}),{controlsDescendantBindings:!0}}},R.virtualElements.allowedBindings.component=!0;var Ce={class:"className",for:"htmlFor"};R.bindingHandlers.attr={update:function(o,e,t){var n=R.utils.unwrapObservable(e())||{};R.utils.objectForEach(n,function(e,t){t=R.utils.unwrapObservable(t);var n=e.indexOf(":"),i="lookupNamespaceURI"in o&&0<n&&o.lookupNamespaceURI(e.substr(0,n)),r=!1===t||null===t||t===b;r?i?o.removeAttributeNS(i,e):o.removeAttribute(e):t=t.toString(),R.utils.ieVersion<=8&&e in Ce?(e=Ce[e],r?o.removeAttribute(e):o[e]=t):r||(i?o.setAttributeNS(i,e,t):o.setAttribute(e,t)),"name"===e&&R.utils.setElementName(o,r?"":t)})}},R.bindingHandlers.checked={after:["value","attr"],init:function(o,s,a){var l=R.pureComputed(function(){return a.has("checkedValue")?R.utils.unwrapObservable(a.get("checkedValue")):n?a.has("value")?R.utils.unwrapObservable(a.get("value")):o.value:void 0});function e(){var e=o.checked,t=l();if(!R.computedContext.isInitial()&&(e||!d&&!R.computedContext.getDependenciesCount())){var n=R.dependencyDetection.ignore(s);if(c){var i=p?n.peek():n,r=f;r!==(f=t)?e&&(R.utils.addOrRemoveItem(i,t,!0),R.utils.addOrRemoveItem(i,r,!1)):R.utils.addOrRemoveItem(i,t,e),p&&R.isWriteableObservable(n)&&n(i)}else u&&(t===b?t=e:e||(t=b)),R.expressionRewriting.writeValueToProperty(n,a,"checked",t,!0)}}var u="checkbox"==o.type,d="radio"==o.type;if(u||d){var t=s(),c=u&&R.utils.unwrapObservable(t)instanceof Array,p=!(c&&t.push&&t.splice),n=d||c,f=c?l():b;d&&!o.name&&R.bindingHandlers.uniqueName.init(o,function(){return!0}),R.computed(e,null,{disposeWhenNodeIsRemoved:o}),R.utils.registerEventHandler(o,"click",e),R.computed(function(){var e=R.utils.unwrapObservable(s()),t=l();c?(o.checked=0<=R.utils.arrayIndexOf(e,t),f=t):o.checked=u&&t===b?!!e:l()===e},null,{disposeWhenNodeIsRemoved:o}),t=b}}},R.expressionRewriting.twoWayBindings.checked=!0,R.bindingHandlers.checkedValue={update:function(e,t){e.value=R.utils.unwrapObservable(t())}};var De="__ko__cssValue";R.bindingHandlers.class={update:function(e,t){var n=R.utils.stringTrim(R.utils.unwrapObservable(t()));R.utils.toggleDomNodeCssClass(e,e[De],!1),e[De]=n,R.utils.toggleDomNodeCssClass(e,n,!0)}},R.bindingHandlers.css={update:function(n,e){var t=R.utils.unwrapObservable(e());null!==t&&"object"==typeof t?R.utils.objectForEach(t,function(e,t){t=R.utils.unwrapObservable(t),R.utils.toggleDomNodeCssClass(n,e,t)}):R.bindingHandlers.class.update(n,e)}},R.bindingHandlers.enable={update:function(e,t){var n=R.utils.unwrapObservable(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},R.bindingHandlers.disable={update:function(e,t){R.bindingHandlers.enable.update(e,function(){return!R.utils.unwrapObservable(t())})}},R.bindingHandlers.event={init:function(e,o,s,a,l){var t=o()||{};R.utils.objectForEach(t,function(r){"string"==typeof r&&R.utils.registerEventHandler(e,r,function(e){var t,n=o()[r];if(n){try{var i=R.utils.makeArray(arguments);a=l.$data,i.unshift(a),t=n.apply(a,i)}finally{!0!==t&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1!==s.get(r+"Bubble")||(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},R.bindingHandlers.foreach={makeTemplateValueAccessor:function(n){return function(){var e=n(),t=R.utils.peekObservable(e);return t&&"number"!=typeof t.length?(R.utils.unwrapObservable(e),{foreach:t.data,as:t.as,noChildContext:t.noChildContext,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,beforeMove:t.beforeMove,afterMove:t.afterMove,templateEngine:R.nativeTemplateEngine.instance}):{foreach:e,templateEngine:R.nativeTemplateEngine.instance}}},init:function(e,t,n,i,r){return R.bindingHandlers.template.init(e,R.bindingHandlers.foreach.makeTemplateValueAccessor(t))},update:function(e,t,n,i,r){return R.bindingHandlers.template.update(e,R.bindingHandlers.foreach.makeTemplateValueAccessor(t),n,i,r)}},R.expressionRewriting.bindingRewriteValidators.foreach=!1,R.virtualElements.allowedBindings.foreach=!0;var Se="__ko_hasfocusUpdating",Ne="__ko_hasfocusLastValue";function Te(e,f,m){R.bindingHandlers[e]={init:function(r,o,e,t,s){var a,l,u,d,c,p={};if(f){var n=e.get("as"),i=e.get("noChildContext");p={as:n,noChildContext:i,exportDependencies:c=!(n&&i)}}return u="render"==e.get("completeOn"),d=u||e.has(R.bindingEvent.descendantsComplete),R.computed(function(){var e,t=R.utils.unwrapObservable(o()),n=!m!=!t,i=!l;!c&&n===a||(d&&(s=R.bindingEvent.startPossiblyAsyncContentBinding(r,s)),n&&(f&&!c||(p.dataDependency=R.computedContext.computed()),e=f?s.createChildContext("function"==typeof t?t:o,p):R.computedContext.getDependenciesCount()?s.extend(null,p):s),i&&R.computedContext.getDependenciesCount()&&(l=R.utils.cloneNodes(R.virtualElements.childNodes(r),!0)),n?(i||R.virtualElements.setDomNodeChildren(r,R.utils.cloneNodes(l)),R.applyBindingsToDescendants(e,r)):(R.virtualElements.emptyNode(r),u||R.bindingEvent.notify(r,R.bindingEvent.childrenComplete)),a=n)},null,{disposeWhenNodeIsRemoved:r}),{controlsDescendantBindings:!0}}},R.expressionRewriting.bindingRewriteValidators[e]=!1,R.virtualElements.allowedBindings[e]=!0}R.bindingHandlers.hasfocus={init:function(r,o,s){function e(e){r[Se]=!0;var t=r.ownerDocument;if("activeElement"in t){var n;try{n=t.activeElement}catch(e){n=t.body}e=n===r}var i=o();R.expressionRewriting.writeValueToProperty(i,s,"hasfocus",e,!0),r[Ne]=e,r[Se]=!1}var t=e.bind(null,!0),n=e.bind(null,!1);R.utils.registerEventHandler(r,"focus",t),R.utils.registerEventHandler(r,"focusin",t),R.utils.registerEventHandler(r,"blur",n),R.utils.registerEventHandler(r,"focusout",n),r[Ne]=!1},update:function(e,t){var n=!!R.utils.unwrapObservable(t());e[Se]||e[Ne]===n||(n?e.focus():e.blur(),!n&&e[Ne]&&e.ownerDocument.body.focus(),R.dependencyDetection.ignore(R.utils.triggerEvent,null,[e,n?"focusin":"focusout"]))}},R.expressionRewriting.twoWayBindings.hasfocus=!0,R.bindingHandlers.hasFocus=R.bindingHandlers.hasfocus,R.expressionRewriting.twoWayBindings.hasFocus="hasfocus",R.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){R.utils.setHtml(e,t())}},Te("if"),Te("ifnot",!1,!0),Te("with",!0),R.bindingHandlers.let={init:function(e,t,n,i,r){var o=r.extend(t);return R.applyBindingsToDescendants(o,e),{controlsDescendantBindings:!0}}},R.virtualElements.allowedBindings.let=!0;var ke,Oe,_e,Ie,Ae,Re,Fe={};function Be(e,t,n,i){var r=R.expressionRewriting.parseObjectLiteral(e);!function(e){for(var t=R.expressionRewriting.bindingRewriteValidators,n=0;n<e.length;n++){var i=e[n].key;if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];if("function"==typeof r){var o=r(e[n].value);if(o)throw new Error(o)}else if(!r)throw new Error("This template engine does not support the '"+i+"' binding within its templates")}}}(r);var o="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+R.expressionRewriting.preProcessBindings(r,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')";return i.createJavaScriptEvaluatorBlock(o)+t}function Ve(e,t,n,i,r){var o,s,a,l,u,d=Math.min,c=Math.max,p=[],f=e.length,m=t.length,b=m-f||1,v=f+m+1;for(o=0;o<=f;o++)for(l=a,p.push(a=[]),u=d(m,o+b),s=c(0,o-1);s<=u;s++)if(s)if(o)if(e[o-1]===t[s-1])a[s]=l[s-1];else{var g=l[s]||v,h=a[s-1]||v;a[s]=d(g,h)+1}else a[s]=s+1;else a[s]=o+1;var y,x=[],E=[],w=[];for(o=f,s=m;o||s;)y=p[o][s]-1,s&&y===p[o][s-1]?E.push(x[x.length]={status:n,value:t[--s],index:s}):o&&y===p[o-1][s]?w.push(x[x.length]={status:i,value:e[--o],index:o}):(--s,--o,r.sparse||x.push({status:"retained",value:t[s]}));return R.utils.findMovesInArrayComparison(w,E,!r.dontLimitMoves&&10*f),x.reverse()}function He(t,n,i,r,o){var s=[],e=R.dependentObservable(function(){var e=n(i,o,R.utils.fixUpContinuousNodeArray(s,t))||[];0<s.length&&(R.utils.replaceDomNodes(s,e),r&&R.dependencyDetection.ignore(r,null,[i,e,o])),s.length=0,R.utils.arrayPushAll(s,e)},null,{disposeWhenNodeIsRemoved:t,disposeWhen:function(){return!R.utils.anyDomNodeIsAttachedToDocument(s)}});return{mappedNodes:s,dependentObservable:e.isActive()?e:b}}R.bindingHandlers.options={init:function(e){if("select"!==R.utils.tagNameLower(e))throw new Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(s,e,a){function t(){return R.utils.arrayFilter(s.options,function(e){return e.selected})}var n,i,r=0==s.length,o=s.multiple,l=!r&&o?s.scrollTop:null,u=R.utils.unwrapObservable(e()),d=a.get("valueAllowUnset")&&a.has("value"),c=a.get("optionsIncludeDestroyed"),p={},f=[];function m(e,t,n){var i=typeof t;return"function"==i?t(e):"string"==i?e[t]:n}d||(o?f=R.utils.arrayMap(t(),R.selectExtensions.readValue):0<=s.selectedIndex&&f.push(R.selectExtensions.readValue(s.options[s.selectedIndex]))),u&&(void 0===u.length&&(u=[u]),i=R.utils.arrayFilter(u,function(e){return c||e===b||null===e||!R.utils.unwrapObservable(e._destroy)}),a.has("optionsCaption")&&null!==(n=R.utils.unwrapObservable(a.get("optionsCaption")))&&n!==b&&i.unshift(Fe));var v=!1;function g(e,t){if(v&&d)R.bindingEvent.notify(s,R.bindingEvent.childrenComplete);else if(f.length){var n=0<=R.utils.arrayIndexOf(f,R.selectExtensions.readValue(t[0]));R.utils.setOptionNodeSelectionState(t[0],n),v&&!n&&R.dependencyDetection.ignore(R.utils.triggerEvent,null,[s,"change"])}}p.beforeRemove=function(e){s.removeChild(e)};var h=g;a.has("optionsAfterRender")&&"function"==typeof a.get("optionsAfterRender")&&(h=function(e,t){g(0,t),R.dependencyDetection.ignore(a.get("optionsAfterRender"),null,[t[0],e!==Fe?e:b])}),R.utils.setDomNodeChildrenFromArrayMapping(s,i,function(e,t,n){n.length&&(f=!d&&n[0].selected?[R.selectExtensions.readValue(n[0])]:[],v=!0);var i=s.ownerDocument.createElement("option");if(e===Fe)R.utils.setTextContent(i,a.get("optionsCaption")),R.selectExtensions.writeValue(i,b);else{var r=m(e,a.get("optionsValue"),e);R.selectExtensions.writeValue(i,R.utils.unwrapObservable(r));var o=m(e,a.get("optionsText"),r);R.utils.setTextContent(i,o)}return[i]},p,h),d||(o?f.length&&t().length<f.length:f.length&&0<=s.selectedIndex?R.selectExtensions.readValue(s.options[s.selectedIndex])!==f[0]:f.length||0<=s.selectedIndex)&&R.dependencyDetection.ignore(R.utils.triggerEvent,null,[s,"change"]);(d||R.computedContext.isInitial())&&R.bindingEvent.notify(s,R.bindingEvent.childrenComplete),R.utils.ensureSelectElementIsRenderedCorrectly(s),l&&20<Math.abs(l-s.scrollTop)&&(s.scrollTop=l)}},R.bindingHandlers.options.optionValueDomDataKey=R.utils.domData.nextKey(),R.bindingHandlers.selectedOptions={init:function(i,r,n){function e(){var e=r(),t=[];R.utils.arrayForEach(i.getElementsByTagName("option"),function(e){e.selected&&t.push(R.selectExtensions.readValue(e))}),R.expressionRewriting.writeValueToProperty(e,n,"selectedOptions",t)}function t(){var n=R.utils.unwrapObservable(r()),e=i.scrollTop;n&&"number"==typeof n.length&&R.utils.arrayForEach(i.getElementsByTagName("option"),function(e){var t=0<=R.utils.arrayIndexOf(n,R.selectExtensions.readValue(e));e.selected!=t&&R.utils.setOptionNodeSelectionState(e,t)}),i.scrollTop=e}if("select"!=R.utils.tagNameLower(i))throw new Error("selectedOptions binding applies only to SELECT elements");var o;R.bindingEvent.subscribe(i,R.bindingEvent.childrenComplete,function(){o?e():(R.utils.registerEventHandler(i,"change",e),o=R.computed(t,null,{disposeWhenNodeIsRemoved:i}))},null,{notifyImmediately:!0})},update:function(){}},R.expressionRewriting.twoWayBindings.selectedOptions=!0,R.bindingHandlers.style={update:function(i,e){var t=R.utils.unwrapObservable(e()||{});R.utils.objectForEach(t,function(e,t){if(null!==(t=R.utils.unwrapObservable(t))&&t!==b&&!1!==t||(t=""),f)f(i).css(e,t);else if(/^--/.test(e))i.style.setProperty(e,t);else{e=e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()});var n=i.style[e];(i.style[e]=t)===n||i.style[e]!=n||isNaN(t)||(i.style[e]=t+"px")}})}},R.bindingHandlers.submit={init:function(i,r,e,t,o){if("function"!=typeof r())throw new Error("The value for a submit binding must be a function");R.utils.registerEventHandler(i,"submit",function(e){var t,n=r();try{t=n.call(o.$data,i)}finally{!0!==t&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}})}},R.bindingHandlers.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){R.utils.setTextContent(e,t())}},R.virtualElements.allowedBindings.text=!0,function(){if(c&&c.navigator){function e(e){if(e)return parseFloat(e[1])}var f,m,v,g,h,t=c.navigator.userAgent;(f=c.opera&&c.opera.version&&parseInt(c.opera.version()))||(h=e(t.match(/Edge\/([^ ]+)$/)))||e(t.match(/Chrome\/([^ ]+)/))||(m=e(t.match(/Version\/([^ ]+) Safari/)))||(v=e(t.match(/Firefox\/([^ ]+)/)))||(g=R.utils.ieVersion||e(t.match(/MSIE ([^ ]+)/)))||(g=e(t.match(/rv:([^ )]+)/)))}if(8<=g&&g<10){function i(e){var t=this.activeElement,n=t&&R.utils.domData.get(t,o);n&&n(e)}var r=R.utils.domData.nextKey(),o=R.utils.domData.nextKey(),y=function(e,t){var n=e.ownerDocument;R.utils.domData.get(n,r)||(R.utils.domData.set(n,r,!0),R.utils.registerEventHandler(n,"selectionchange",i)),R.utils.domData.set(e,o,t)}}R.bindingHandlers.textInput={init:function(n,i,r){function o(e){clearTimeout(a),l=a=b;var t=n.value;u!==t&&(e&&(n._ko_textInputProcessedEvent=e.type),u=t,R.expressionRewriting.writeValueToProperty(i(),r,"textInput",t))}function t(e){if(!a){l=n.value;var t=o.bind(n,{type:e.type});a=R.utils.setTimeout(t,4)}}function s(e,t){R.utils.registerEventHandler(n,e,t)}var a,l,u=n.value,d=9==R.utils.ieVersion?t:o,c=!1,p=function(){var e=R.utils.unwrapObservable(i());null!==e&&e!==b||(e=""),l===b||e!==l?n.value!==e&&(c=!0,n.value=e,c=!1,u=n.value):R.utils.setTimeout(p,4)};R.bindingHandlers.textInput._forceUpdateOn?R.utils.arrayForEach(R.bindingHandlers.textInput._forceUpdateOn,function(e){"after"==e.slice(0,5)?s(e.slice(5),t):s(e,o)}):(g&&s("keypress",o),g<11&&s("propertychange",function(e){c||"value"!==e.propertyName||d(e)}),8==g&&(s("keyup",o),s("keydown",o)),y&&(y(n,d),s("dragend",t)),(!g||9<=g)&&s("input",d),m<5&&"textarea"===R.utils.tagNameLower(n)?(s("keydown",t),s("paste",t),s("cut",t)):f<11?s("keydown",t):v<4?(s("DOMAutoComplete",o),s("dragdrop",o),s("drop",o)):h&&"number"===n.type&&s("keydown",t)),s("change",o),s("blur",o),R.computed(p,null,{disposeWhenNodeIsRemoved:n})}},R.expressionRewriting.twoWayBindings.textInput=!0,R.bindingHandlers.textinput={preprocess:function(e,t,n){n("textInput",e)}}}(),R.bindingHandlers.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++R.bindingHandlers.uniqueName.currentIndex;R.utils.setElementName(e,n)}}},R.bindingHandlers.uniqueName.currentIndex=0,R.bindingHandlers.using={init:function(e,t,n,i,r){var o;n.has("as")&&(o={as:n.get("as"),noChildContext:n.get("noChildContext")});var s=r.createChildContext(t,o);return R.applyBindingsToDescendants(s,e),{controlsDescendantBindings:!0}}},R.virtualElements.allowedBindings.using=!0,R.bindingHandlers.value={init:function(i,r,o){var s=R.utils.tagNameLower(i),e="input"==s;if(!e||"checkbox"!=i.type&&"radio"!=i.type){var t=[],n=o.get("valueUpdate"),a=!1,l=null;n&&(t="string"==typeof n?[n]:R.utils.arrayGetDistinctValues(n),R.utils.arrayRemoveItem(t,"change"));function u(){l=null,a=!1;var e=r(),t=R.selectExtensions.readValue(i);R.expressionRewriting.writeValueToProperty(e,o,"value",t)}var d,c;if(R.utils.ieVersion&&e&&"text"==i.type&&"off"!=i.autocomplete&&(!i.form||"off"!=i.form.autocomplete)&&-1==R.utils.arrayIndexOf(t,"propertychange")&&(R.utils.registerEventHandler(i,"propertychange",function(){a=!0}),R.utils.registerEventHandler(i,"focus",function(){a=!1}),R.utils.registerEventHandler(i,"blur",function(){a&&u()})),R.utils.arrayForEach(t,function(e){var t=u;R.utils.stringStartsWith(e,"after")&&(t=function(){l=R.selectExtensions.readValue(i),R.utils.setTimeout(u,0)},e=e.substring("after".length)),R.utils.registerEventHandler(i,e,t)}),d=e&&"file"==i.type?function(){var e=R.utils.unwrapObservable(r());null===e||e===b||""===e?i.value="":R.dependencyDetection.ignore(u)}:function(){var e=R.utils.unwrapObservable(r()),t=R.selectExtensions.readValue(i);if(null===l||e!==l){if(e!==t||t===b)if("select"===s){var n=o.get("valueAllowUnset");R.selectExtensions.writeValue(i,e,n),n||e===R.selectExtensions.readValue(i)||R.dependencyDetection.ignore(u)}else R.selectExtensions.writeValue(i,e)}else R.utils.setTimeout(d,0)},"select"===s)R.bindingEvent.subscribe(i,R.bindingEvent.childrenComplete,function(){c?(o.get("valueAllowUnset")?d:u)():(R.utils.registerEventHandler(i,"change",u),c=R.computed(d,null,{disposeWhenNodeIsRemoved:i}))},null,{notifyImmediately:!0});else R.utils.registerEventHandler(i,"change",u),R.computed(d,null,{disposeWhenNodeIsRemoved:i})}else R.applyBindingAccessorsToNode(i,{checkedValue:r})},update:function(){}},R.expressionRewriting.twoWayBindings.value=!0,R.bindingHandlers.visible={update:function(e,t){var n=R.utils.unwrapObservable(t()),i=!("none"==e.style.display);n&&!i?e.style.display="":!n&&i&&(e.style.display="none")}},R.bindingHandlers.hidden={update:function(e,t){R.bindingHandlers.visible.update(e,function(){return!R.utils.unwrapObservable(t())})}},ke="click",R.bindingHandlers[ke]={init:function(e,t,n,i,r){return R.bindingHandlers.event.init.call(this,e,function(){var e={};return e[ke]=t(),e},n,i,r)}},R.templateEngine=function(){},R.templateEngine.prototype.renderTemplateSource=function(e,t,n,i){throw new Error("Override renderTemplateSource")},R.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(e){throw new Error("Override createJavaScriptEvaluatorBlock")},R.templateEngine.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){var n=(t=t||d).getElementById(e);if(!n)throw new Error("Cannot find template with ID "+e);return new R.templateSources.domElement(n)}if(1==e.nodeType||8==e.nodeType)return new R.templateSources.anonymousTemplate(e);throw new Error("Unknown template type: "+e)},R.templateEngine.prototype.renderTemplate=function(e,t,n,i){var r=this.makeTemplateSource(e,i);return this.renderTemplateSource(r,t,n,i)},R.templateEngine.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,t).data("isRewritten")},R.templateEngine.prototype.rewriteTemplate=function(e,t,n){var i=this.makeTemplateSource(e,n),r=t(i.text());i.text(r),i.data("isRewritten",!0)},R.exportSymbol("templateEngine",R.templateEngine),R.templateRewriting=(Oe=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,_e=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g,{ensureTemplateIsRewritten:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,function(e){return R.templateRewriting.memoizeBindingAttributeSyntax(e,t)},n)},memoizeBindingAttributeSyntax:function(e,t){return e.replace(Oe,function(){return Be(arguments[4],arguments[1],arguments[2],t)}).replace(_e,function(){return Be(arguments[1],"\x3c!-- ko --\x3e","#comment",t)})},applyMemoizedBindingsToNextSibling:function(i,r){return R.memoization.memoize(function(e,t){var n=e.nextSibling;n&&n.nodeName.toLowerCase()===r&&R.applyBindingAccessorsToNode(n,i,t)})}}),R.exportSymbol("__tr_ambtns",R.templateRewriting.applyMemoizedBindingsToNextSibling),function(){R.templateSources={};R.templateSources.domElement=function(e){if(this.domElement=e){var t=R.utils.tagNameLower(e);this.templateType="script"===t?1:"textarea"===t?2:"template"==t&&e.content&&11===e.content.nodeType?3:4}},R.templateSources.domElement.prototype.text=function(){var e=1===this.templateType?"text":2===this.templateType?"value":"innerHTML";if(0==arguments.length)return this.domElement[e];var t=arguments[0];"innerHTML"==e?R.utils.setHtml(this.domElement,t):this.domElement[e]=t};var t=R.utils.domData.nextKey()+"_";R.templateSources.domElement.prototype.data=function(e){if(1===arguments.length)return R.utils.domData.get(this.domElement,t+e);R.utils.domData.set(this.domElement,t+e,arguments[1])};var n=R.utils.domData.nextKey();function o(e){return R.utils.domData.get(e,n)||{}}function s(e,t){R.utils.domData.set(e,n,t)}R.templateSources.domElement.prototype.nodes=function(){var e=this.domElement;if(0==arguments.length){var t=o(e),n=t.containerData||(3===this.templateType?e.content:4===this.templateType?e:b);if(!n||t.alwaysCheckText){var i=this.text();i&&i!==t.textData&&s(e,{containerData:n=R.utils.parseHtmlForTemplateNodes(i,e.ownerDocument),textData:i,alwaysCheckText:!0})}return n}var r=arguments[0];this.templateType!==b&&this.text(""),s(e,{containerData:r})},R.templateSources.anonymousTemplate=function(e){this.domElement=e},R.templateSources.anonymousTemplate.prototype=new R.templateSources.domElement,R.templateSources.anonymousTemplate.prototype.constructor=R.templateSources.anonymousTemplate,R.templateSources.anonymousTemplate.prototype.text=function(){if(0==arguments.length){var e=o(this.domElement);return e.textData===b&&e.containerData&&(e.textData=e.containerData.innerHTML),e.textData}var t=arguments[0];s(this.domElement,{textData:t})},R.exportSymbol("templateSources",R.templateSources),R.exportSymbol("templateSources.domElement",R.templateSources.domElement),R.exportSymbol("templateSources.anonymousTemplate",R.templateSources.anonymousTemplate)}(),function(){var u;function i(e,t,n){for(var i,r=e,o=R.virtualElements.nextSibling(t);r&&(i=r)!==o;)n(i,r=R.virtualElements.nextSibling(i))}function p(e,t){if(e.length){var r=e[0],o=e[e.length-1],n=r.parentNode,s=R.bindingProvider.instance,a=s.preprocessNode;if(a){if(i(r,o,function(e,t){var n=e.previousSibling,i=a.call(s,e);i&&(e===r&&(r=i[0]||t),e===o&&(o=i[i.length-1]||n))}),e.length=0,!r)return;r===o?e.push(r):(e.push(r,o),R.utils.fixUpContinuousNodeArray(e,n))}i(r,o,function(e){1!==e.nodeType&&8!==e.nodeType||R.applyBindings(t,e)}),i(r,o,function(e){1!==e.nodeType&&8!==e.nodeType||R.memoization.unmemoizeDomNodeAndDescendants(e,[t])}),R.utils.fixUpContinuousNodeArray(e,n)}}function d(e){return e.nodeType?e:0<e.length?e[0]:null}function f(e,t,n,i,r){r=r||{};var o=(e&&d(e)||n||{}).ownerDocument,s=r.templateEngine||u;R.templateRewriting.ensureTemplateIsRewritten(n,s,o);var a=s.renderTemplate(n,i,r,o);if("number"!=typeof a.length||0<a.length&&"number"!=typeof a[0].nodeType)throw new Error("Template engine must return an array of DOM nodes");var l=!1;switch(t){case"replaceChildren":R.virtualElements.setDomNodeChildren(e,a),l=!0;break;case"replaceNode":R.utils.replaceDomNodes(e,a),l=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+t)}return l&&(p(a,i),r.afterRender&&R.dependencyDetection.ignore(r.afterRender,null,[a,i[r.as||"$data"]]),"replaceChildren"==t&&R.bindingEvent.notify(e,R.bindingEvent.childrenComplete)),a}function m(e,t,n){return R.isObservable(e)?e():"function"==typeof e?e(t,n):e}R.setTemplateEngine=function(e){if(e!=b&&!(e instanceof R.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");u=e},R.renderTemplate=function(i,r,o,s,a){if(((o=o||{}).templateEngine||u)==b)throw new Error("Set a template engine before calling renderTemplate");if(a=a||"replaceChildren",s){var l=d(s),e=l&&"replaceNode"==a?l.parentNode:l;return R.dependentObservable(function(){var e=r&&r instanceof R.bindingContext?r:new R.bindingContext(r,null,null,null,{exportDependencies:!0}),t=m(i,e.$data,e),n=f(s,a,t,e,o);"replaceNode"==a&&(l=d(s=n))},null,{disposeWhen:function(){return!l||!R.utils.domNodeIsAttachedToDocument(l)},disposeWhenNodeIsRemoved:e})}return R.memoization.memoize(function(e){R.renderTemplate(i,r,o,e,"replaceNode")})},R.renderTemplateForEach=function(i,t,r,o,s){function n(e,t){u=s.createChildContext(e,{as:d,noChildContext:r.noChildContext,extend:function(e){e.$index=t,d&&(e[d+"Index"]=t)}});var n=m(i,e,u);return f(o,"ignoreTargetNode",n,u,r)}function a(e,t,n){p(t,u),r.afterRender&&r.afterRender(t,e),u=null}function l(e,t){R.dependencyDetection.ignore(R.utils.setDomNodeChildrenFromArrayMapping,null,[o,e,n,r,a,t]),R.bindingEvent.notify(o,R.bindingEvent.childrenComplete)}var u,d=r.as,c=!1===r.includeDestroyed||R.options.foreachHidesDestroyed&&!r.includeDestroyed;if(c||r.beforeRemove||!R.isObservableArray(t))return R.dependentObservable(function(){var e=R.utils.unwrapObservable(t)||[];void 0===e.length&&(e=[e]),c&&(e=R.utils.arrayFilter(e,function(e){return e===b||null===e||!R.utils.unwrapObservable(e._destroy)})),l(e)},null,{disposeWhenNodeIsRemoved:o});l(t.peek());var e=t.subscribe(function(e){l(t(),e)},null,"arrayChange");return e.disposeWhenNodeIsRemoved(o),e};var v=R.utils.domData.nextKey();var s=R.utils.domData.nextKey();R.bindingHandlers.template={init:function(e,t){var n=R.utils.unwrapObservable(t());if("string"==typeof n||"name"in n)R.virtualElements.emptyNode(e);else if("nodes"in n){var i=n.nodes||[];if(R.isObservable(i))throw new Error('The "nodes" option must be a plain, non-observable array.');(o=i[0]&&i[0].parentNode)&&R.utils.domData.get(o,s)||(o=R.utils.moveCleanedNodesToContainerElement(i),R.utils.domData.set(o,s,!0)),new R.templateSources.anonymousTemplate(e).nodes(o)}else{var r=R.virtualElements.childNodes(e);if(!(0<r.length))throw new Error("Anonymous template defined, but no template content was provided");var o=R.utils.moveCleanedNodesToContainerElement(r);new R.templateSources.anonymousTemplate(e).nodes(o)}return{controlsDescendantBindings:!0}},update:function(e,t,n,i,r){var o,s,a,l,u=t(),d=R.utils.unwrapObservable(u),c=!0,p=null;if("string"==typeof d?(o=u,d={}):(o="name"in d?d.name:e,"if"in d&&(c=R.utils.unwrapObservable(d.if)),c&&"ifnot"in d&&(c=!R.utils.unwrapObservable(d.ifnot)),c&&!o&&(c=!1)),"foreach"in d){var f=c&&d.foreach||[];p=R.renderTemplateForEach(o,f,d,e,r)}else if(c){var m=r;"data"in d&&(m=r.createChildContext(d.data,{as:d.as,noChildContext:d.noChildContext,exportDependencies:!0})),p=R.renderTemplate(o,m,d,e)}else R.virtualElements.emptyNode(e);s=e,a=p,(l=R.utils.domData.get(s,v))&&"function"==typeof l.dispose&&l.dispose(),R.utils.domData.set(s,v,!a||a.isActive&&!a.isActive()?b:a)}},R.expressionRewriting.bindingRewriteValidators.template=function(e){var t=R.expressionRewriting.parseObjectLiteral(e);return 1==t.length&&t[0].unknown||R.expressionRewriting.keyValueArrayContainsKey(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"},R.virtualElements.allowedBindings.template=!0}(),R.exportSymbol("setTemplateEngine",R.setTemplateEngine),R.exportSymbol("renderTemplate",R.renderTemplate),R.utils.findMovesInArrayComparison=function(e,t,n){var i,r,o,s,a;if(e.length&&t.length)for(i=r=0;(!n||i<n)&&(s=e[r]);++r){for(o=0;a=t[o];++o)if(s.value===a.value){s.moved=a.index,a.moved=s.index,t.splice(o,1),i=o=0;break}i+=o}},R.utils.compareArrays=(Ie="deleted",function(e,t,n){return n="boolean"==typeof n?{dontLimitMoves:n}:n||{},(e=e||[]).length<(t=t||[]).length?Ve(e,t,"added",Ie,n):Ve(t,e,Ie,"added",n)}),R.exportSymbol("utils.compareArrays",R.utils.compareArrays),Ae=R.utils.domData.nextKey(),Re=R.utils.domData.nextKey(),R.utils.setDomNodeChildrenFromArrayMapping=function(t,e,n,i,r,o){void 0===(e=e||[]).length&&(e=[e]),i=i||{};var s,a,l,u,d,c,p=R.utils.domData.get(t,Ae),f=!p,m=[],v=0,g=0,h=[],y=[],x=[],E=[],w=[],C=0;function D(e){s={arrayEntry:e,indexObservable:R.observable(g++)},m.push(s),f||w.push(s)}function S(e){s=p[e],g!==s.indexObservable.peek()&&E.push(s),s.indexObservable(g++),R.utils.fixUpContinuousNodeArray(s.mappedNodes,t),m.push(s)}function N(t,n){if(t)for(var i=0,e=n.length;i<e;i++)R.utils.arrayForEach(n[i].mappedNodes,function(e){t(e,i,n[i].arrayEntry)})}if(f)R.utils.arrayForEach(e,D);else{if(!o||p&&p._countWaitingForRemove){var T=R.utils.arrayMap(p,function(e){return e.arrayEntry}),k={dontLimitMoves:i.dontLimitMoves,sparse:!0};o=R.utils.compareArrays(T,e,k)}for(var O,_,I,A=0;O=o[A];A++)switch(_=O.moved,I=O.index,O.status){case"deleted":for(;v<I;)S(v++);_===b&&((s=p[v]).dependentObservable&&(s.dependentObservable.dispose(),s.dependentObservable=b),R.utils.fixUpContinuousNodeArray(s.mappedNodes,t).length&&(i.beforeRemove&&(m.push(s),C++,s.arrayEntry===Re?s=null:x.push(s)),s&&h.push.apply(h,s.mappedNodes))),v++;break;case"added":for(;g<I;)S(v++);_!==b?(y.push(m.length),S(_)):D(O.value)}for(;g<e.length;)S(v++);m._countWaitingForRemove=C}R.utils.domData.set(t,Ae,m),N(i.beforeMove,E),R.utils.arrayForEach(h,i.beforeRemove?R.cleanNode:R.removeNode);try{c=t.ownerDocument.activeElement}catch(e){}if(y.length)for(;(A=y.shift())!=b;){for(s=m[A],l=b;A;)if((d=m[--A].mappedNodes)&&d.length){l=d[d.length-1];break}for(a=0;u=s.mappedNodes[a];l=u,a++)R.virtualElements.insertAfter(t,u,l)}for(A=0;s=m[A];A++){for(s.mappedNodes||R.utils.extend(s,He(t,n,s.arrayEntry,r,s.indexObservable)),a=0;u=s.mappedNodes[a];l=u,a++)R.virtualElements.insertAfter(t,u,l);!s.initialized&&r&&(r(s.arrayEntry,s.mappedNodes,s.indexObservable),s.initialized=!0,l=s.mappedNodes[s.mappedNodes.length-1])}for(c&&t.ownerDocument.activeElement!=c&&c.focus(),N(i.beforeRemove,x),A=0;A<x.length;++A)x[A].arrayEntry=Re;N(i.afterMove,E),N(i.afterAdd,w)},R.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",R.utils.setDomNodeChildrenFromArrayMapping),R.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1},R.nativeTemplateEngine.prototype=new R.templateEngine,R.nativeTemplateEngine.prototype.constructor=R.nativeTemplateEngine,R.nativeTemplateEngine.prototype.renderTemplateSource=function(e,t,n,i){var r=(!(R.utils.ieVersion<9)?e.nodes:null)?e.nodes():null;if(r)return R.utils.makeArray(r.cloneNode(!0).childNodes);var o=e.text();return R.utils.parseHtmlFragment(o,i)},R.nativeTemplateEngine.instance=new R.nativeTemplateEngine,R.setTemplateEngine(R.nativeTemplateEngine.instance),R.exportSymbol("nativeTemplateEngine",R.nativeTemplateEngine),function(){R.jqueryTmplTemplateEngine=function(){var m=this.jQueryTmplVersion=function(){if(!f||!f.tmpl)return 0;try{if(0<=f.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(e,t,n,i){i=i||d,n=n||{},function(){if(m<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}();var r=e.data("precompiled");if(!r){var o=e.text()||"";o="{{ko_with $item.koBindingContext}}"+o+"{{/ko_with}}",r=f.template(null,o),e.data("precompiled",r)}var s,a,l,u=[t.$data],c=f.extend({koBindingContext:t},n.templateOptions),p=(s=r,a=u,l=c,f.tmpl(s,a,l));return p.appendTo(i.createElement("div")),f.fragments={},p},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){d.write("<script type='text/html' id='"+e+"'>"+t+"<\/script>")},0<m&&(f.tmpl.tag.ko_code={open:"__.push($1 || '');"},f.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},R.jqueryTmplTemplateEngine.prototype=new R.templateEngine,R.jqueryTmplTemplateEngine.prototype.constructor=R.jqueryTmplTemplateEngine;var e=new R.jqueryTmplTemplateEngine;0<e.jQueryTmplVersion&&R.setTemplateEngine(e),R.exportSymbol("jqueryTmplTemplateEngine",R.jqueryTmplTemplateEngine)}()},"function"==typeof define&&define.amd?define(["exports","require"],h):"object"==typeof exports&&"object"==typeof module?h(module.exports||exports):h(c.ko={})}();